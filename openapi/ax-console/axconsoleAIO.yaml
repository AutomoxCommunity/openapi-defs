openapi: 3.1.0
info:
  title: Automox Console API
  description: API for use with the Automox Console
  version: '2025-01-27'
  contact:
    name: Automox Support
    url: https://help.automox.com/hc/en-us/requests/new
    email: support@automox.com
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
servers:
  - url: https://console.automox.com/api
security:
  - bearerAuth: []
tags:
  - name: Accounts
    description: Actions for accounts. These API(s) require the Global Admin account RBAC role.
  - name: AMS
    description: API(s) powered by AMS in Phase 1.
  - name: Invitations
    description: Actions for account invitations
  - name: RBAC
    description: Actions for RBAC.
  - name: Users
    description: Actions for users.
  - name: Webserver
    description: API(s) powered by Webserver in Phase 1.
  - name: Account Management
    description: Actions for Account Management. These API(s) require the Global Admin account RBAC role.
  - name: Account Users
    description: Actions for Account User Management. These API(s) require the Global Admin account RBAC role.
  - name: Zone Management
    description: Actions for Zone Management
  - name: Zone Users
    description: Actions for Zone User Management
  - name: Policy Management
    description: Actions related to Policy Management
  - name: API Keys
    description: Actions involving API key objects.
  - name: Approvals
    description: Actions involving manual approvals.
  - name: Commands
    description: Issues a command to an Automox device.
  - name: Devices
    description: Actions for Automox Servers/Endpoints.
  - name: Events
    description: Lists Event Objects for the Authenticated User.
  - name: Extracts
    description: Actions for Data Extracts
  - name: Groups
    description: Actions for Automox Groups.
  - name: Organizations
    description: Actions for Automox Organizations.
  - name: Packages
    description: Software Package Actions.
  - name: Policies
    description: Actions for Automox Policies.
  - name: Reports
    description: Retrieves Automox Reports.
  - name: Users
    description: Actions for Automox Users.
  - name: Vulnerability Sync CSV Actions
    description: Actions involving CSV uploads for Vulnerability Sync
  - name: Vulnerability Sync Action Sets
    description: Actions for Vulnerability Sync Action Sets
  - name: Worklets
    description: Actions for Worklets.
paths:
  /events:
    get:
      operationId: getEvents
      summary: Retrieve all event objects for the authenticated user
      description: 'Events Include: Policy Actions, Device Addition/Removal, User Addition/Removal'
      parameters:
        - name: page
          in: query
          description: The page of results you wish to be returned with page numbers starting at 0. See [About Automox API - Pagination](/developer-portal#pagination)
          required: false
          schema:
            type: integer
            default: 0
        - name: countOnly
          in: query
          description: Use instead of `page` or `limit` to retrieve only the total count of events for the organization, or when used with an `eventName`, retrieve a count of that specific type of event.
          required: false
          schema:
            type: integer
            enum:
              - 0
              - 1
        - name: policyId
          in: query
          description: Retrieve events for a specific policy.
          required: false
          schema:
            type:
              - integer
              - 'null'
        - name: serverId
          in: query
          description: Retrieve events for a specific device.
          required: false
          schema:
            type: integer
        - name: userId
          in: query
          description: Retrieve events for a specific user.
          required: false
          schema:
            type: integer
        - name: eventName
          in: query
          description: Name for the event type.
          required: false
          schema:
            type: string
            enum:
              - org.exceeded_endpoint_limit
              - saml.user.create
              - slack.app.added
              - slack.app.reinstalled
              - system.add
              - system.delete
              - system.group.action
              - system.notification.response
              - system.notification.sent
              - system.patch.applied
              - system.patch.failed
              - system.patch.uninstall
              - system.policy.action
              - user.create
              - user.removed
            x-enumDescriptions:
              org.exceeded_endpoint_limit: Organization Endpoint Limit was exceeded.
              saml.user.create: SAML users were created.
              slack.app.added: Slack integration was added.
              slack.app.reinstalled: Slack integration was reinstalled.
              system.add: Devices were added to the Automox organization.
              system.delete: Devices were removed from the Automox organization.
              system.group.action: A Group action.
              system.notification.response: Notification response events.
              system.notification.sent: Notification sent events.
              system.patch.applied: Patch was successfully installed on a device.
              system.patch.failed: Patch failed to install on a device.
              system.patch.uninstall: Patch was uninstalled from a device.
              system.policy.action: A Policy Action.
              user.create: User created in organization.
              user.removed: User was removed from organization.
        - name: startDate
          in: query
          description: 'Limit responses to include only events after this date. Format: (YYYY-MM-DD).'
          required: false
          schema:
            type: string
            format: date
        - name: endDate
          in: query
          description: 'Limit responses to include only events before this date. Format: (YYYY-MM-DD).'
          required: false
          schema:
            type: string
            format: date
        - name: limit
          in: query
          description: A limit on the number of results to be returned, between 1 and 500, with a default of 500. Use with page parameter. See [About Automox API - Pagination](/developer-portal#pagination)
          required: false
          schema:
            type: integer
            default: 500
            maximum: 500
            minimum: 1
        - name: o
          in: query
          description: Organization ID. Response will include devices for the specified Automox organization. The organization will be assumed based on the API key, if not specified.
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                oneOf:
                  - type: array
                    items:
                      $ref: '#/components/schemas/Event'
                    example:
                      - id: 250624
                        name: system.add
                        user_id: 754125
                        server_id: 621453
                        organization_id: 8427961
                        policy_id: 123456
                        server_name: Test Device
                        data:
                          ip: 204.168.24.35
                          os: Windows
                          systemname: Test Device
                        policy_name: Test Policy
                        policy_type_name: patch
                        create_time: '2021-07-01T00:00:00Z'
                  - type: object
                    title: CountOnly
                    properties:
                      size:
                        type: integer
                        format: int64
                        examples:
                          - 500
                      results:
                        type: array
                        items:
                          type: string
                        examples:
                          - []
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - Events
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{ "Authorization" = "Bearer $apiKey" }
            $url = "https://console.automox.com/api/events?o=0000&limit=2&startDate=2019-05-04&endDate=2019-05-07"
            $response = (Invoke-WebRequest -Method Get -Uri $url -Headers $headers).Content
      x-meta:
        seo:
          title: Automox Console API Documentation  | Retrieve All Event Objects
          description: 'Retrieves all event objects for the authenticated user. Available filters: policy, device, user, or event type.'
  /servers:
    get:
      operationId: getDevices
      summary: List all devices
      description: Retrieves a detailed list of all devices (server objects) for the authenticated user. **NOTE:** This endpoint is rate limited to <30 requests per minute. Rate limited clients will receive a 429 for 1 minute.
      parameters:
        - name: groupId
          in: query
          description: Filter based on membership to a specific Server Group ID
          required: false
          schema:
            type: integer
        - name: PS_VERSION
          in: query
          description: Shows version of PowerShell running on the device, if applicable.
          required: false
          schema:
            type: integer
        - name: o
          in: query
          description: Organization ID. Response will include devices for the specified Automox Organization. The organization will be assumed based on the API key, if not specified.
          required: true
          schema:
            type: integer
        - name: pending
          in: query
          description: 'Filter based on status of pending patches. Format: `pending=1`'
          required: false
          schema:
            type: integer
            enum:
              - 0
              - 1
        - name: patchStatus
          in: query
          description: 'Filter based on presence of ANY available patches that aren''t already installed. Value must be ''missing'' Format: `patchStatus=missing`'
          required: false
          schema:
            type: string
            default: missing
        - name: policyId
          in: query
          description: 'Filter based on association to a given Policy ID. Format: `policyId=12345`'
          required: false
          schema:
            type: integer
        - name: exception
          in: query
          description: 'Filter based on the exception property to exclude the device from reports. Device is still monitored when excluded from reports and statistics. Format: `exception=1`'
          required: false
          schema:
            type: integer
            enum:
              - 0
              - 1
        - name: managed
          in: query
          description: 'Filter based on device''s Managed status. Unmanaged indicates no linked policies. Format: `managed=0`'
          required: false
          schema:
            type: integer
            enum:
              - 0
              - 1
        - name: limit
          in: query
          description: A limit on the number of results to be returned, between 1 and 500, with a default of 500. Use with page parameter. See [About Automox API - Pagination](/developer-portal#pagination)
          required: true
          schema:
            type: integer
            default: 500
            maximum: 500
            minimum: 1
        - name: page
          in: query
          description: The page of results you wish to be returned with page numbers starting at 0. See [About Automox API - Pagination](/developer-portal#pagination)
          required: true
          schema:
            type: integer
            default: 0
        - name: filters
          in: query
          description: Filter on compatible devices
          required: false
          schema:
            type: object
            properties:
              is_compatible:
                type: boolean
          style: deepObject
        - name: sortColumns[]
          in: query
          description: The column you want to sort by.
          schema:
            type: string
            enum:
              - is_compatible
        - name: sortDir
          in: query
          description: The sort direction, ascending or descending.
          schema:
            type: string
            enum:
              - asc
              - desc
            x-enumDescriptions:
              asc: Ascending order
              desc: Descending order
        - name: include_details
          in: query
          description: 'Include device details in response. Format: `include_details=1` See [Automox API Documentation - Servers API - Fast by Default](/developer-portal/servers-fast-by-default)'
          required: false
          schema:
            type: integer
            default: 0
            enum:
              - 0
              - 1
        - name: include_server_events
          in: query
          description: 'Include server events (`reboot_deferral_count` and `patch_deferral_count`) in response. Format: `include_server_events=1`. See [Automox API Documentation - Servers API - Fast by Default](/developer-portal/servers-fast-by-default)'
          required: false
          schema:
            type: integer
            default: 0
            enum:
              - 0
              - 1
        - name: include_next_patch_time
          in: query
          description: 'Include the next patch time in response. Format: `include_next_patch_time=1`. See [Automox API Documentation - Servers API - Fast by Default](/developer-portal/servers-fast-by-default)'
          required: false
          schema:
            type: integer
            default: 0
            enum:
              - 0
              - 1
        - name: exclude_policy_status
          in: query
          description: 'Exclude the policy status in response. Format: `exclude_policy_status=1`. See [Automox API Documentation - Servers API - Fast by Default](/developer-portal/servers-fast-by-default)'
          required: false
          schema:
            type: integer
            default: 0
            enum:
              - 0
              - 1
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Server'
              examples:
                server-with-details:
                  summary: Example of a server with details
                  value:
                    - id: 123456
                      agent_version: 1.45.48
                      commands: []
                      compatibility_checks:
                        low_diskspace: false
                        missing_wmi_integrity_check: false
                        missing_powershell: false
                      compliant: false
                      connected: false
                      create_time: 2024-12-19T17:42:48+0000
                      custom_name: ''
                      deleted: false
                      detail:
                        VERSION: LNVNB161216
                        VENDOR: LENOVO
                        LAST_USER_LOGON:
                          SRC: TEST
                          USER: TEST\john.doe
                          TIME: 12/25/2024 8:34:32 AM
                        MODEL: 82R9
                        IPS:
                          - 192.168.8.135
                          - bcb6:a517:7ac1:7c98:0b51:bcd3:1183:82a8
                          - 3399:59b4:f568:cada:76b6:ee0c:7a0e:7a75
                          - 41c0:fdce:d075:df45:35b2:c995:7caa:73b8
                          - 44ea:9f49:34e0:ddb6:ec1c:a368:b398:4f03
                          - c5e8:d9d2:91fb:7a69:843b:d575:7dc4:2f44
                        WSUS_CONFIG:
                          WSUS_REACHABLE: '0'
                          WSUS_MANAGED: '0'
                          WSUS_SERVER: ''
                        MDM_PROFILE_INSTALLED: null
                        RAM: '17179869184'
                        CPU: 'AMD Ryzen 5 5500U with Radeon Graphics         '
                        MDM_SERVER: null
                        FQDNS:
                          - TEST.WORKGROUP
                        NICS:
                          - CONNECTED: true
                            VENDOR: MediaTek Wi-Fi 6 MT7921 Wireless LAN Card
                            DEVICE: Wi-Fi
                            TYPE: enet
                            MAC: e9:4f:2b:90:a0:5c
                            IPS:
                              - 192.168.8.135
                              - bcb6:a517:7ac1:7c98:0b51:bcd3:1183:82a8
                              - 3399:59b4:f568:cada:76b6:ee0c:7a0e:7a75
                              - 41c0:fdce:d075:df45:35b2:c995:7caa:73b8
                              - 44ea:9f49:34e0:ddb6:ec1c:a368:b398:4f03
                              - c5e8:d9d2:91fb:7a69:843b:d575:7dc4:2f44
                          - TYPE: enet
                            MAC: e9:4f:2b:90:a0:5d
                            IPS: []
                            CONNECTED: false
                            VENDOR: Bluetooth Device (Personal Area Network)
                            DEVICE: Bluetooth Network Connection
                          - CONNECTED: false
                            VENDOR: Microsoft Wi-Fi Direct Virtual Adapter
                            DEVICE: ''
                            TYPE: enet
                            MAC: c3:1d:1d:e9:94:ef
                            IPS: []
                          - MAC: c3:1d:1d:e9:a4:ff
                            IPS: []
                            CONNECTED: false
                            VENDOR: Microsoft Wi-Fi Direct Virtual Adapter
                            DEVICE: ''
                            TYPE: enet
                          - CONNECTED: false
                            VENDOR: WAN Miniport (IP)
                            DEVICE: ''
                            TYPE: enet
                            MAC: 4a:37:21:70:2e:f0
                            IPS: []
                          - IPS: []
                            CONNECTED: false
                            VENDOR: WAN Miniport (IPv6)
                            DEVICE: ''
                            TYPE: enet
                            MAC: bf:b5:ab:21:b8:63
                          - MAC: cf:b6:ab:21:b8:63
                            IPS: []
                            CONNECTED: false
                            VENDOR: WAN Miniport (Network Monitor)
                            DEVICE: ''
                            TYPE: enet
                        WMI_INTEGRITY_CHECK: 'True'
                        SECURE_TOKEN_ACCOUNT: null
                        VOLUME:
                          - FSTYPE: NTFS
                            LABEL: Windows-SSD
                            AVAIL: '509722226688'
                            FREE: '408418480128'
                            IS_SYSTEM_DISK: 'True'
                            VOLUME: 'C:'
                        PS_VERSION: 5.1.26100.2161
                        UPDATE_SOURCE_CHECK:
                          CONNECTED: 'True'
                          ERROR: Succeeded
                        SERVICETAG: No Asset Tag
                        SERIAL: AB123ZX
                        DISKS:
                          - TYPE: Micron MTFDKCD512TFK
                            SIZE: '512105932800'
                        DISTINGUISHED_NAME: ''
                        AUTO_UPDATE_OPTIONS:
                          OPTIONS: 'off'
                          ENABLED: '1'
                      display_name: TEST
                      exception: false
                      instance_id: ''
                      ip_addrs:
                        - 123.45.67.210
                      ip_addrs_private:
                        - 192.168.8.135
                        - bcb6:a517:7ac1:7c98:0b51:bcd3:1183:82a8
                        - 3399:59b4:f568:cada:76b6:ee0c:7a0e:7a75
                        - 41c0:fdce:d075:df45:35b2:c995:7caa:73b8
                        - 44ea:9f49:34e0:ddb6:ec1c:a368:b398:4f03
                        - c5e8:d9d2:91fb:7a69:843b:d575:7dc4:2f44
                      is_compatible: true
                      is_delayed_by_notification: false
                      is_delayed_by_user: true
                      last_disconnect_time: 2025-01-22T22:18:21+0000
                      last_logged_in_user: TEST\john.doe
                      last_process_time: 2025-01-22T22:02:14+0000
                      last_refresh_time: 2025-01-22T20:10:26+0000
                      last_scan_failed: true
                      last_update_time: 2024-12-25T13:32:47+0000
                      mdm: null
                      name: TEST
                      notes: ''
                      needs_attention: false
                      needs_reboot: false
                      next_patch_time: 2025-01-23T06:02:00+0000
                      notification_count: 1
                      organization_id: 54321
                      organizational_unit: ''
                      os_family: Windows
                      os_name: 11 Home
                      os_version: 10.0.26100
                      os_version_id: 13235
                      patch_deferral_count: 1
                      patches: 2
                      pending: true
                      pending_patches: 2
                      policy_status:
                        - id: 12121212
                          organization_id: 54321
                          policy_id: 250624
                          server_id: 123456
                          policy_name: Apply All Patches
                          policy_type_name: patch
                          status: 0
                          result: '{}'
                          create_time: 2025-01-22T20:10:25+0000
                          will_reboot: false
                          pending_count: 0
                          next_remediation: null
                        - id: 34343434
                          organization_id: 54321
                          policy_id: 901250
                          server_id: 123456
                          policy_name: Apply Critical Patches
                          policy_type_name: patch
                          status: 1
                          result: '{}'
                          create_time: 2025-01-22T20:10:25+0000
                          will_reboot: false
                          pending_count: 0
                          next_remediation: null
                      reboot_deferral_count: 0
                      reboot_is_delayed_by_notification: false
                      reboot_is_delayed_by_user: false
                      reboot_notification_count: 0
                      refresh_interval: 360
                      serial_number: AB123ZX
                      server_group_id: 654321
                      server_policies: []
                      status:
                        device_status: not-ready
                        agent_status: disconnected
                        policy_status: non-compliant
                        policy_statuses:
                          - id: 12121212
                            compliant: false
                          - id: 34343434
                            compliant: true
                      tags: []
                      timezone: UTC-0500
                      total_count: 1
                      uptime: '170878'
                      uuid: 1b597490-18f9-4ef4-957d-5e986921ebc1
                server-without-details:
                  summary: Example of a server without details (default)
                  value:
                    - id: 123456
                      agent_version: 1.45.48
                      commands: []
                      compatibility_checks:
                        low_diskspace: false
                        missing_wmi_integrity_check: false
                        missing_powershell: false
                      compliant: false
                      connected: false
                      create_time: 2024-12-19T17:42:48+0000
                      custom_name: ''
                      deleted: false
                      detail: {}
                      display_name: TEST
                      exception: false
                      instance_id: ''
                      ip_addrs:
                        - 123.45.67.210
                      ip_addrs_private:
                        - 192.168.8.135
                        - bcb6:a517:7ac1:7c98:0b51:bcd3:1183:82a8
                        - 3399:59b4:f568:cada:76b6:ee0c:7a0e:7a75
                        - 41c0:fdce:d075:df45:35b2:c995:7caa:73b8
                        - 44ea:9f49:34e0:ddb6:ec1c:a368:b398:4f03
                        - c5e8:d9d2:91fb:7a69:843b:d575:7dc4:2f44
                      is_compatible: true
                      is_delayed_by_notification: false
                      is_delayed_by_user: true
                      last_disconnect_time: 2025-01-22T22:18:21+0000
                      last_logged_in_user: TEST\john.doe
                      last_process_time: 2025-01-22T22:02:14+0000
                      last_refresh_time: 2025-01-22T20:10:26+0000
                      last_scan_failed: true
                      last_update_time: 2024-12-25T13:32:47+0000
                      mdm: null
                      name: TEST
                      notes: ''
                      needs_attention: false
                      needs_reboot: false
                      next_patch_time: null
                      notification_count: 1
                      organization_id: 54321
                      organizational_unit: ''
                      os_family: Windows
                      os_name: 11 Home
                      os_version: 10.0.26100
                      os_version_id: 13235
                      patch_deferral_count: 0
                      patches: 2
                      pending: true
                      pending_patches: 2
                      policy_status:
                        - null
                      reboot_deferral_count: 0
                      reboot_is_delayed_by_notification: false
                      reboot_is_delayed_by_user: false
                      reboot_notification_count: 0
                      refresh_interval: 360
                      serial_number: AB123ZX
                      server_group_id: 654321
                      server_policies: []
                      status: {}
                      tags: []
                      timezone: UTC-0500
                      total_count: 1
                      uptime: '170878'
                      uuid: 1b597490-18f9-4ef4-957d-5e986921ebc1
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - Devices
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{ "Authorization" = "Bearer $apiKey" }
            $url = "https://console.automox.com/api/servers?o=:orgID&page=0&limit=500"
            $response = (Invoke-WebRequest -Method Get -Uri $url -Headers $headers).Content
      x-meta:
        seo:
          title: Automox Console API Docs  | Retrieve a List of All Devices
          description: Retrieve a detailed list of all devices (server objects) in a given organization, for which the authenticated user has access.
  /servers/{id}:
    get:
      operationId: getServer
      summary: List a specific device
      description: Retrieve a specific device (server object) for the authenticated user.
      parameters:
        - name: id
          in: path
          description: Server ID for the specified device.
          required: true
          schema:
            type: integer
        - name: o
          in: query
          description: Organization ID for the specified device.
          required: true
          schema:
            type: integer
        - name: PS_VERSION
          in: query
          description: The version of PowerShell running on the device.
          required: false
          schema:
            type: integer
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerWithPolicies'
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - Devices
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{ "Authorization" = "Bearer $apiKey" }
            $url = "https://console.automox.com/api/servers/123456?o=0000"
            $response = (Invoke-WebRequest -Method Get -Uri $url -Headers $headers).Content
      x-meta:
        seo:
          title: Automox Console API Docs | Retrieve a Specific Device
          description: Retrieve a specific device (server object) from an organization, for which the authenticated user has access.
    put:
      operationId: updateDevice
      summary: Updates a device (server object).
      description: Send a JSON object in the request body to update device details.
      parameters:
        - name: id
          in: path
          description: Server ID for the specified device.
          required: true
          schema:
            type: integer
        - name: o
          in: query
          description: Organization ID for the specified device.
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeviceUpdateRequest'
      responses:
        '204':
          description: Update Successful
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - Devices
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{
                "Authorization" = "Bearer $apiKey"
                "Content-Type" = "application/json"
            }
            $body = @"
            {
                "server_group_id": 12345,
                "tags": [
                    "Tag1",
                    "Tag2",
                    "Tag3"
                ],
                "custom_name": null,
                "exception": false
            }
            "@
            $url = "https://console.automox.com/api/servers/123456?o=0000"
            Invoke-WebRequest -Method Put -Uri $url -Headers $headers -Body $body
      x-meta:
        seo:
          title: Automox Console API Docs | Update a Specific Device
          description: Update details for a specific device (server object) from an organization, for which the authenticated user has access.
    delete:
      operationId: deleteDevice
      summary: Deletes a device (server object) from the organization.
      description: '**NOTE:** The associated command queue will be purged. Any pending custom commands for the device are removed.'
      parameters:
        - name: id
          in: path
          description: Server ID for the specified device
          required: true
          schema:
            type: integer
        - name: o
          in: query
          description: Organization ID for the specified device
          required: true
          schema:
            type: integer
      responses:
        '204':
          description: Delete Successful
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - Devices
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{ "Authorization" = "Bearer $apiKey" }
            $url = "https://console.automox.com/api/servers/123456?o=0000"
            Invoke-WebRequest -Method Delete -Uri $url -Headers $headers
      x-meta:
        seo:
          title: Automox Console API Docs | Delete a Device
          description: Delete a device (server object) from an organization, for which the authenticated user has access.
  /servers/batch:
    post:
      operationId: batchUpdateDevices
      summary: Updates multiple devices (server objects).
      description: Updates multiple devices (server objects) in a batch.
      parameters:
        - name: o
          in: query
          description: Organization ID for the specified devices
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateMultipleDevices'
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Batch'
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - Devices
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{
                "Authorization" = "Bearer $apiKey"
                "Content-Type" = "application/json"
              }
            $body = @"
              {
                  "devices": [1,2,3],
                  "actions": [
                    {
                      "action": "apply",
                      "attribute": "tags",
                      "value": ["Tag1", "Tag2"]
                    }
                  ]
              }
              "@
            $url = "https://console.automox.com/api/servers/batch?o=0"
            Invoke-WebRequest -Method Post -Uri $url -Headers $headers -Body $body
      x-meta:
        seo:
          title: Automox Console API Docs | Batch Update Multiple Devices
          description: Batch update multiple devices (server objects) in an organization, for which the authenticated user has access.
  /servers/{id}/packages:
    get:
      operationId: getDevicePackages
      summary: List software packages for specific device
      description: Retrieves the software packages for the specified device. Packages include pending updates and currently installed updates/applications.
      parameters:
        - name: id
          in: path
          description: Server ID for the specified device.
          required: true
          schema:
            type: integer
        - name: o
          in: query
          description: Organization ID for the specified device
          required: true
          schema:
            type: integer
        - name: page
          in: query
          description: The page of results you wish to be returned with page numbers starting at 0. See [About Automox API - Pagination](/developer-portal#pagination)
          schema:
            type: integer
            default: 0
        - name: limit
          in: query
          description: A limit on the number of results to be returned, between 1 and 500, with a default of 500. Use with `page` parameter. See [About Automox API - Pagination](/developer-portal#pagination)
          schema:
            type: integer
            default: 500
            maximum: 500
            minimum: 1
      responses:
        '200':
          description: Successful Operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Packages'
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - Devices
        - Packages
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{ "Authorization" = "Bearer $apiKey" }
            $url = "https://console.automox.com/api/servers/123456/packages?o=0000"
            $response = (Invoke-WebRequest -Method Get -Uri $url -Headers $headers).Content
      x-meta:
        seo:
          title: Automox Console API Docs | Retrieve Software Packages
          description: Retrieves the software packages for the specified device. Packages include pending updates and currently installed updates/applications.
  /servers/{id}/queues:
    get:
      operationId: getDeviceQueues
      summary: Upcoming commands queue for specific device
      description: Returns the queue of upcoming commands for the specified device.
      parameters:
        - name: id
          in: path
          description: Server ID for the specified device.
          required: true
          schema:
            type: integer
        - name: o
          in: query
          description: Organization ID for the specified device.
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Successful Operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Command'
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - Devices
        - Commands
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{ "Authorization" = "Bearer $apiKey" }
            $url = "https://console.automox.com/api/servers/123456/queues?o=0000"
            $response = (Invoke-WebRequest -Method Get -Uri $url -Headers $headers).Content
      x-meta:
        seo:
          title: Automox Console API Docs | Retrieve Command Queue for Device
          description: Retrieves the queue of upcoming commands for the specified device, in a given organization, for which the authenticated user has access.
    post:
      operationId: issueDeviceCommand
      summary: Issue a command to a device
      description: 'Force a device to Scan, Patch, or Reboot for immediate execution. **Note: The `installAllUpdates` option ignores any Policy Filters.** Please use [/policies/{id}/action](https://developer.automox.com/openapi/axconsole/operation/executePolicy) to run a policy immediately.'
      parameters:
        - name: id
          in: path
          description: Server ID for the specified device
          required: true
          schema:
            type: integer
        - name: o
          in: query
          description: Organization ID for the specified device
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/IssueCommand'
      responses:
        '201':
          description: Command submitted successfully
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - Devices
        - Commands
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key' $headers = @{
                "Authorization" = "Bearer $apiKey"
                "Content-Type" = "application/json"
              }
            $body = @{
              command_type_name = "InstallUpdate"
              args = "2e7e5661-f7c8-4a21-a65a-52d0fdf8841a"
              }
            $url = "https://console.automox.com/api/servers/123456/queues?o=0000" Invoke-WebRequest -Method Post -Uri $url -Headers $headers -Body ($body | ConvertTo-Json)
        - lang: PowerShell
          label: PowerShell (with ARGS)
          source: |
            $apiKey = 'your_automox_api_key' $headers = @{
                "Authorization" = "Bearer $apiKey"
                "Content-Type" = "application/json"
              }
            $body = @{
              command_type_name = "InstallUpdate"
              args = "2e7e5661-f7c8-4a21-a65a-52d0fdf8841a"
              }
            $url = "https://console.automox.com/api/servers/123456/queues?o=0000" Invoke-WebRequest -Method Post -Uri $url -Headers $headers -Body ($body | ConvertTo-Json)
      x-meta:
        seo:
          title: Automox Console API Docs | Issue Command to a Device
          description: Issue a command to the specified device, in a given organization, for which the authenticated user has access.
  /servergroups:
    get:
      operationId: getServerGroups
      summary: List all group objects
      description: Retrieves all server group objects for the authenticated user.
      parameters:
        - name: o
          in: query
          description: Organization ID for retrieving groups.
          required: true
          schema:
            type: integer
        - name: page
          in: query
          description: The page of results you wish to be returned with page numbers starting at 0. See [About Automox API - Pagination](/developer-portal#pagination)
          required: false
          schema:
            type: integer
            default: 0
        - name: limit
          in: query
          description: A limit on the number of results to be returned, between 1 and 500, with a default of 500. Use with `page` parameter. See [About Automox API - Pagination](/developer-portal#pagination)
          required: false
          schema:
            type: integer
            default: 500
            maximum: 500
            minimum: 1
      responses:
        '200':
          description: Successful Operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ServerGroup'
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - Groups
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{ "Authorization" = "Bearer $apiKey" }
            $url = "https://console.automox.com/api/servergroups?o=0000"
            $response = (Invoke-WebRequest -Method Get -Uri $url -Headers $headers).Content
      x-meta:
        seo:
          title: Automox Console API Docs | Retrieve All Server Group Objects
          description: Retrieves all server group objects in a given organization, for which the authenticated user has access.
    post:
      operationId: createServerGroup
      summary: Creates a new server group.
      description: Creates a new server group.
      parameters:
        - name: o
          in: query
          description: Organization ID for the created group.
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ServerGroupCreateOrUpdateRequest'
      responses:
        '200':
          description: Successful Operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerGroup'
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - Groups
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{
                "Authorization" = "Bearer $apiKey"
                "Content-Type" = "application/json"
              }
            $body = @"
              {
                  "name": "API Creation",
                  "refresh_interval": 1440,
                  "parent_server_group_id": 23500,
                  "ui_color": "#FFFFFF",
                  "notes": "2 Policies, White, Force WSUS",
                  "enable_os_auto_update": false,
                  "enable_wsus": true,
                  "wsus_server": "https://myserver.com:8530",
                  "policies": [
                      18627,
                      22645
                  ]
              }
              "@
            $url = "https://console.automox.com/api/servergroups?o=0000"
            Invoke-WebRequest -Method Post -Uri $url -Headers $headers -Body $body
      x-meta:
        seo:
          title: Automox Console API Docs| Create a New Server Group
          description: Create a new server group object in a given organization, for which the authenticated user has access.
  /servergroups/{id}:
    get:
      operationId: getServerGroup
      summary: List specific group object
      description: Returns a specific server group object for the authenticated user.
      parameters:
        - name: id
          in: path
          description: Server Group ID for the specified group.
          required: true
          schema:
            type: integer
        - name: o
          in: query
          description: Organization ID for the specified group.
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Successful Operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerGroup'
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - Groups
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{ "Authorization" = "Bearer $apiKey" }
            $url = "https://console.automox.com/api/servergroups/12345?o=0000"
            $response = (Invoke-WebRequest -Method Get -Uri $url -Headers $headers).Content
      x-meta:
        seo:
          title: Automox Console API Docs | Retrieve a Specific Server Group
          description: Retrieves a specific server group object from a given organization, for which the authenticated user has access.
    put:
      operationId: updateServerGroup
      summary: Updates an existing server group.
      description: Updates server group settings.
      parameters:
        - name: id
          in: path
          description: Server Group ID for the specified group.
          required: true
          schema:
            type: integer
        - name: o
          in: query
          description: Organization ID for the created group.
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ServerGroupCreateOrUpdateRequest'
      responses:
        '204':
          description: Successful Operation
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - Groups
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{
                "Authorization" = "Bearer $apiKey"
                "Content-Type" = "application/json"
            }
            $body = @"
            {
                "name": "API Modified",
                "refresh_interval": 1380,
                "parent_server_group_id": 23500,
                "ui_color": "#E9FF03",
                "notes": "3 Policies, Lemonade Color, Force WinUpdate",
                "enable_os_auto_update": false,
              "enable_wsus": false,
                "policies": [
                    18627,
                    22645,
                    25754
                ]
            }
            "@
            $url = "https://console.automox.com/api/servergroups/123456?o=0000"
            Invoke-WebRequest -Method Put -Uri $url -Headers $headers -Body $body
      x-meta:
        seo:
          title: Automox Console API Docs | Update an Existing Server Group
          description: Update an existing server group object in a given organization, for which the authenticated user has access.
    delete:
      operationId: deleteServerGroup
      summary: Deletes a server group.
      description: '**NOTE:** Any devices that belong to the deleted group will be moved to the organization''s Default Group'
      parameters:
        - name: id
          in: path
          description: Server Group ID for the specified group.
          required: true
          schema:
            type: integer
        - name: o
          in: query
          description: Organization ID for the created group.
          required: true
          schema:
            type: integer
      responses:
        '204':
          description: Deletion Successful
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - Groups
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{ "Authorization" = "Bearer $apiKey" }
            $url = "https://console.automox.com/api/servergroups/12345?o=0000"
            Invoke-WebRequest -Method Delete -Uri $url -Headers $headers
      x-meta:
        seo:
          title: Automox Console API Docs | Delete an Existing Server Group
          description: Delete an existing server group object from a given organization, for which the authenticated user has access.
  /orgs:
    get:
      operationId: getOrganizations
      summary: Organization details
      description: Returns a detailed list of all organizations for the authenticated user.
      parameters:
        - name: page
          in: query
          description: The page of results you wish to be returned with page numbers starting at 0. See [About Automox API - Pagination](/developer-portal#pagination)
          schema:
            type: integer
            default: 0
        - name: limit
          in: query
          description: A limit on the number of results to be returned, between 1 and 500, with a default of 500. Use with `page` parameter. See [About Automox API - Pagination](/developer-portal#pagination)
          schema:
            type: integer
            default: 500
            maximum: 500
            minimum: 1
      responses:
        '200':
          description: Successful Operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Organization'
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - Organizations
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{ "Authorization" = "Bearer $apiKey" }
            $url = "https://console.automox.com/api/orgs"
            $response = (Invoke-WebRequest -Method Get -Uri $url -Headers $headers).Content
      x-meta:
        seo:
          title: Automox Console API Docs | Retrieves a list of all organizations.
          description: Retrieves a detailed list of all Automox organizations for which the authenticated user has access.
  /orgs/{id}/packages:
    get:
      operationId: getOrganizationPackages
      summary: List all software packages for all devices
      description: This will list all pending/installed updates, and all installed applications, for all devices in a given organization.
      parameters:
        - name: id
          in: path
          description: Organization ID for retrieving package list.
          required: true
          schema:
            type: integer
        - name: includeUnmanaged
          in: query
          description: Include applications Automox does not currently support for patching.
          required: false
          schema:
            type: integer
            format: int64
            enum:
              - 0
              - 1
        - name: awaiting
          in: query
          description: 'Filter based installation status of package. `awaiting=1`:  Packages that are currently available but not installed. `awaiting=0`:  Packages that are already installed.'
          required: false
          schema:
            type: integer
            format: int64
            enum:
              - 0
              - 1
        - name: o
          in: query
          description: Organization ID of the target organization.
          required: true
          schema:
            type: integer
        - name: page
          in: query
          description: The page of results you wish to be returned with page numbers starting at 0. See [About Automox API - Pagination](/developer-portal#pagination)
          required: false
          schema:
            type: integer
            default: 0
        - name: limit
          in: query
          description: A limit on the number of results to be returned, between 1 and 500, with a default of 500. Use with `page` parameter. See [About Automox API - Pagination](/developer-portal#pagination)
          required: false
          schema:
            type: integer
            default: 500
            maximum: 500
            minimum: 1
      responses:
        '200':
          description: Successful Operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Packages'
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - Packages
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{ "Authorization" = "Bearer $apiKey" }
            $url = 'https://console.automox.com/api/orgs/0000/packages?o=0000&awaiting=1&includeUnmanaged=0'
            $response = (Invoke-WebRequest -Method Get -Uri $url -Headers $headers).Content
      x-meta:
        seo:
          title: Automox Console API Docs | Retrieve All Software Packages
          description: Retrieve all software packages for all devices. This will list all pending/installed updates, and all installed applications, for all devices.
  /orgs/{id}/api_keys:
    get:
      operationId: getOrganizationApiKeys
      summary: List all api key objects for organization
      description: '**PREREQUISITES:** You must have **Full Administrator** privileges! This endpoint allows you to list all keys for an organization.'
      parameters:
        - name: id
          in: path
          description: The ID of the organization to list keys for.
          required: true
          schema:
            type: integer
        - name: limit
          in: query
          description: A limit on the number of results to be returned, between 1 and 500, with a default of 500. Use with `page` parameter. See [About Automox API - Pagination](/developer-portal#pagination)
          required: false
          schema:
            type: integer
            default: 500
            maximum: 500
            minimum: 1
        - name: page
          in: query
          description: The page of results you wish to be returned with page numbers starting at 0. See [About Automox API - Pagination](/developer-portal#pagination)
          required: false
          schema:
            type: integer
            default: 0
      responses:
        '200':
          description: Successful Operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/ApiKey'
                  size:
                    type: integer
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - API Keys
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{ "Authorization" = "Bearer $apiKey" }
            $url = "https://console.automox.com/api/orgs/{0000}/api_keys"
            $response = (Invoke-WebRequest -Method Get -Uri $url -Headers $headers).Content
      x-meta:
        seo:
          title: Automox Console API Docs | Retrieve All API Key Objects.
          description: Retrieves all API key objects for a given organization. This does NOT retrieve the encrypted portion of the API key.
  /policies:
    get:
      operationId: getPolicies
      summary: List all policy objects
      description: Retrieves a list of all policy objects for the authenticated user.
      parameters:
        - name: o
          in: query
          description: Organization ID for retrieving policies
          required: true
          schema:
            type: integer
        - name: page
          in: query
          description: The page of results you wish to be returned with page numbers starting at 0. See [About Automox API - Pagination](/developer-portal#pagination)
          schema:
            type: integer
            default: 0
        - name: limit
          in: query
          description: A limit on the number of results to be returned, between 1 and 500, with a default of 500. Use with `page` parameter. See [About Automox API - Pagination](/developer-portal#pagination)
          schema:
            type: integer
            default: 500
            maximum: 500
            minimum: 1
      responses:
        '200':
          description: Successful Operation
          content:
            application/json:
              schema:
                type: array
                items:
                  anyOf:
                    - $ref: '#/components/schemas/PatchPolicy'
                    - $ref: '#/components/schemas/RequiredSoftwarePolicy'
                    - $ref: '#/components/schemas/CustomPolicy'
              example:
                - id: 167240
                  uuid: 110a7065-5910-47e5-9e26-cd9ca07c9150
                  name: Apply All Patches
                  policy_type_name: patch
                  organization_id: 634520
                  configuration:
                    auto_patch: true
                    patch_rule: all
                    auto_reboot: false
                    filter_type: 'null'
                    notify_user: false
                    device_filters: []
                    include_optional: false
                    notify_reboot_user: true
                    missed_patch_window: true
                    install_deferral_enabled: true
                    notify_deferred_reboot_user: true
                    notify_user_message_timeout: 15
                    custom_notification_max_delays: 3
                    pending_reboot_deferral_enabled: true
                    custom_notification_patch_message: 'System Update: An important update will be installed.'
                    notify_user_auto_deferral_enabled: true
                    custom_notification_reboot_message: An important update will be installed; reboot may be required.
                    custom_notification_deferment_periods:
                      - 1
                      - 2
                      - 4
                    custom_notification_patch_message_mac: 'System Update: An important update will be installed.'
                    custom_notification_reboot_message_mac: An important update will be installed; reboot may be required.
                    custom_pending_reboot_notification_message: 'Updates require reboot: Please save your work.'
                    notify_deferred_reboot_user_message_timeout: 15
                    custom_pending_reboot_notification_max_delays: 6
                    custom_pending_reboot_notification_message_mac: 'Updates require reboot: Please save your work.'
                    notify_deferred_reboot_user_auto_deferral_enabled: true
                    custom_pending_reboot_notification_deferment_periods:
                      - 1
                      - 4
                      - 8
                    secrets: {}
                  schedule_days: 254
                  schedule_weeks_of_month: 62
                  schedule_months: 8190
                  schedule_time: '03:00'
                  use_scheduled_timezone: false
                  notes: ''
                  create_time: 2023-03-07T17:11:170000
                  server_groups:
                    - 102243
                    - 134198
                  server_count: 2
                  status: inactive
                  community_worklet_id: null
                  community_worklet_uuid: null
                  policy_template_id: null
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - Policies
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{ "Authorization" = "Bearer $apiKey" }
            $url = "https://console.automox.com/api/policies?o=0000"
            $response = (Invoke-WebRequest -Method Get -Uri $url -Headers $headers).Content
      x-meta:
        seo:
          title: Automox Console API Docs | Retrieve a list of all policy objects.
          description: Retrieve a detailed list of all policy objects for a given organization, for which the authenticated user has access.
    post:
      operationId: createPolicy
      summary: Create a new policy
      description: Creates a new policy for a specified organization. For more info on filter types and scheduling, see [Policy and Device Filters, and Scheduling](/developer-portal/policy_filters_schedule).
      parameters:
        - name: o
          in: query
          description: Organization ID for the specified policy.
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              discriminator:
                propertyName: policy_type_name
                mapping:
                  patch: '#/components/schemas/PatchPolicyRequest'
                  custom: '#/components/schemas/CustomPolicyRequest'
                  required_software: '#/components/schemas/RequiredSoftwarePolicyRequest'
              examples:
                - name: Test Patch All Policy
                  policy_type_name: patch
                  organization_id: 9999
                  schedule_days: 42
                  schedule_weeks_of_month: 20
                  schedule_months: 4680
                  schedule_time: '12:00'
                  use_scheduled_timezone: false
                  configuration:
                    auto_patch: true
                    notify_user: true
                    auto_reboot: true
                    patch_rule: all
                    filter_type: 'null'
                    missed_patch_window: false
                    device_filters_enabled: true
                    device_filters:
                      - field: tag
                        op: in
                        value:
                          - Windows
                          - Win10
                    secrets:
                      my_secret_name:
                        id: 705d95c8-659a-4344-8fab-5470cbf077e6
                    include_optional: true
                    notify_reboot_user: true
                    notify_deferred_reboot_user: true
                    custom_notification_patch_message: Important updates are going to be installed!
                    custom_notification_patch_message_mac: Important updates are going to be installed!
                    custom_notification_reboot_message: Reboot needed to finish installing updates!
                    custom_notification_reboot_message_mac: Reboot needed to finish installing updates!
                    custom_notification_max_delays: 3
                    custom_notification_deferment_periods:
                      - 1
                      - 4
                      - 8
                    custom_pending_reboot_notification_message: Your computer needs to reboot to install updates!
                    custom_pending_reboot_notification_message_mac: Your computer needs to reboot to install updates!
                    custom_pending_reboot_notification_deferment_periods:
                      - 1
                      - 4
                      - 8
                    notify_user_message_timeout: 15
                    notify_deferred_reboot_user_message_timeout: 15
                    notify_user_auto_deferral_enabled: true
                    notify_deferred_reboot_user_auto_deferral_enabled: true
                  server_groups:
                    - 250624
                    - 90125
                  notes: Here are some notes
                - name: Test Required Software Policy
                  policy_type_name: required_software
                  organization_id: 9999
                  schedule_days: 42
                  schedule_weeks_of_month: 20
                  schedule_months: 4680
                  schedule_time: '12:00'
                  use_scheduled_timezone: false
                  configuration:
                    os_family: Windows
                    package_name: NotePadPlusPlus
                    package_version: 7.8.4
                    installation_code: .\npp.7.8.4.Installer.x64.exe /S
                    secrets:
                      my_secret_name:
                        id: 705d95c8-659a-4344-8fab-5470cbf077e6
                  notify_user: true
                  server_groups:
                    - 250624
                    - 90125
                  notes: Here are some notes
                - name: Advanced Policy
                  policy_type_name: patch
                  organization_id: 9999
                  schedule_days: 42
                  schedule_weeks_of_month: 20
                  schedule_months: 4680
                  schedule_time: '00:00'
                  use_scheduled_timezone: false
                  configuration:
                    auto_patch: true
                    auto_reboot: true
                    patch_rule: advanced
                    advanced_filter:
                      - left: patch-os
                        right: windows
                        condition: is
                      - left: patch-source
                        right: windowsupdate
                        condition: is
                    missed_patch_window: false
                    device_filters_enabled: true
                    device_filters:
                      - field: tag
                        op: in
                        value:
                          - Windows
                          - Win10
                    secrets:
                      my_secret_name:
                        id: 705d95c8-659a-4344-8fab-5470cbf077e6
                    include_optional: true
                    notify_reboot_user: true
                    notify_deferred_reboot_user: true
                    custom_notification_patch_message: Important updates are going to be installed!
                    custom_notification_patch_message_mac: Important updates are going to be installed!
                    custom_notification_reboot_message: Reboot needed to finish installing updates!
                    custom_notification_reboot_message_mac: Reboot needed to finish installing updates!
                    custom_notification_max_delays: 3
                    custom_notification_deferment_periods:
                      - 1
                      - 4
                      - 8
                    custom_pending_reboot_notification_message: Your computer needs to reboot to install updates!
                    custom_pending_reboot_notification_message_mac: Your computer needs to reboot to install updates!
                    custom_pending_reboot_notification_deferment_periods:
                      - 1
                      - 4
                      - 8
                    notify_user_message_timeout: 15
                    notify_deferred_reboot_user_message_timeout: 15
                    notify_user_auto_deferral_enabled: true
                    notify_deferred_reboot_user_auto_deferral_enabled: true
                    notify_user: true
                  server_groups:
                    - 250624
                    - 90125
                  notes: Here are some notes
                - name: Manual Approval
                  policy_type_name: patch
                  organization_id: 9999
                  schedule_days: 42
                  schedule_weeks_of_month: 20
                  schedule_months: 4680
                  schedule_time: '12:00'
                  use_scheduled_timezone: false
                  configuration:
                    auto_patch: true
                    patch_rule: manual
                    auto_reboot: true
                    notify_user: true
                    include_optional: false
                    notify_reboot_user: true
                    secrets:
                      my_secret_name:
                        id: 705d95c8-659a-4344-8fab-5470cbf077e6
                    notify_deferred_reboot_user: true
                    custom_notification_max_delays: 3
                    custom_notification_patch_message: 'System Update: An important update will be installed.'
                    custom_notification_reboot_message: An important update will be installed; reboot may be required.
                    custom_notification_deferment_periods:
                      - 1
                      - 4
                      - 8
                    custom_notification_patch_message_mac: 'System Update: An important update will be installed.'
                    custom_notification_reboot_message_mac: An important update will be installed; reboot may be required.
                    custom_pending_reboot_notification_message: 'Updates require reboot: Please save your work.'
                    notify_deferred_reboot_user_message_timeout: 15
                    custom_pending_reboot_notification_max_delays: 3
                    custom_pending_reboot_notification_message_mac: 'Updates require reboot: Please save your work.'
                    notify_deferred_reboot_user_auto_deferral_enabled: false
                    custom_pending_reboot_notification_deferment_periods:
                      - 1
                      - 4
                      - 8
                  server_groups:
                    - 250624
                    - 90125
                  notes: Here are some notes
              oneOf:
                - $ref: '#/components/schemas/PatchPolicyRequest'
                - $ref: '#/components/schemas/CustomPolicyRequest'
                - $ref: '#/components/schemas/RequiredSoftwarePolicyRequest'
      responses:
        '201':
          description: Created
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - Policies
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{
                "Authorization" = "Bearer $apiKey"
                "Content-Type" = "application/json"
            }
            $url = "https://console.automox.com/api/policies?o=9999"
            $body = @"
            {
              "name": "Patch All Policy",
              "policy_type_name": "patch",
              "organization_id": 9999,
              "schedule_days": 42,
              "schedule_weeks_of_month": 20,
              "schedule_months": 4680,
              "schedule_time": "12:00",
              "configuration": {
                  "auto_patch": true,
                  "notify_user": true,
                  "auto_reboot": true,
                  "patch_rule": "all",
                  "filter_type": "all",
                  "missed_patch_window": false,
                  "device_filters_enabled": true,
                  "device_filters": [
                      {
                          "field": "tag",
                          "op": "in",
                          "value": [
                              "Windows",
                              "Win10"
                          ]
                      }
                  ],
                  "secrets": {
                      "my_secret_name": {
                        "id": "705d95c8-659a-4344-8fab-5470cbf077e6"
                      }
                  },
                  "include_optional": true,
                  "notify_reboot_user": true,
                  "notify_deferred_reboot_user": true,
                  "custom_notification_patch_message": "Important updates are going to be installed!",
                  "custom_notification_patch_message_mac": "Important updates are going to be installed!",
                  "custom_notification_reboot_message": "Reboot needed to finish installing updates!",
                  "custom_notification_reboot_message_mac": "Reboot needed to finish installing updates!",
                  "custom_notification_max_delays": 3,
                  "custom_notification_deferment_periods": [
                      1,
                      4,
                      8
                  ],
                  "custom_pending_reboot_notification_message": "Your computer needs to reboot to install updates!",
                  "custom_pending_reboot_notification_message_mac": "Your computer needs to reboot to install updates!",
                  "custom_pending_reboot_notification_deferment_periods": [
                      1,
                      4,
                      8
                  ],
                  "notify_user_message_timeout": 15,
                  "notify_deferred_reboot_user_message_timeout": 15,
                  "notify_user_auto_deferral_enabled": true,
                  "notify_deferred_reboot_user_auto_deferral_enabled": true
              },
              "notify_user": true,
              "server_groups": [
                  250624,
                  90125
              ],
              "notes": "Here are some notes"
            }
            "@
            Invoke-WebRequest -Method Post -Uri $url -Headers $headers -Body $body
      x-meta:
        seo:
          title: Automox Console API Documentation | Create a New Policy
          description: Create a new policy for a given organization, for which the authenticated user has access. See Policy and Device Filters, and Scheduling for more info.
  /policies/{id}:
    get:
      operationId: getPolicy
      summary: List specific policy object
      description: Returns a specific policy object for the authenticated user.
      parameters:
        - name: id
          in: path
          description: Policy ID for the specified policy
          required: true
          schema:
            type: integer
        - name: o
          in: query
          description: Organization ID for the specified policy
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Successful Operation
          content:
            application/json:
              schema:
                anyOf:
                  - $ref: '#/components/schemas/PatchPolicy'
                  - $ref: '#/components/schemas/CustomPolicy'
                  - $ref: '#/components/schemas/RequiredSoftwarePolicy'
              example:
                id: 456321
                uuid: a9bee93b-5458-417f-87b9-bcda9e88afe
                name: Apply all Linux patches not requiring reboot
                policy_type_name: patch
                organization_id: 634520
                configuration:
                  filters:
                    - '*-firmware-*'
                    - '*dbus-*'
                    - '*systemd-*'
                    - '*gnutls.*'
                    - '*gnutls-*'
                    - '*glibc.*'
                    - '*glibc-*'
                    - '*kernel-*'
                    - systemd
                    - gnutls.x86_64
                    - openssl-libs.x86_64
                    - openssl-pkcs11.x86_64
                    - udev
                    - dbus
                  auto_patch: true
                  patch_rule: filter
                  auto_reboot: false
                  filter_type: exclude
                  device_filters:
                    - op: in
                      field: os_family
                      value:
                        - Linux
                  notify_reboot_user: false
                  device_filters_enabled: true
                  notify_deferred_reboot_user: false
                  notify_user_message_timeout: 15
                  custom_notification_max_delays: 0
                  custom_notification_patch_message: 'System Update: An important update will be installed.'
                  notify_user_auto_deferral_enabled: true
                  custom_notification_reboot_message: An important update will be installed; reboot may be required.
                  custom_notification_deferment_periods:
                    - 1
                    - 4
                    - 8
                  custom_notification_patch_message_mac: 'System Update: An important update will be installed.'
                  custom_notification_reboot_message_mac: An important update will be installed; reboot may be required.
                  custom_pending_reboot_notification_message: 'Updates require reboot: Please save your work.'
                  notify_deferred_reboot_user_message_timeout: 15
                  custom_pending_reboot_notification_max_delays: 6
                  custom_pending_reboot_notification_message_mac: 'Updates require reboot: Please save your work.'
                  notify_deferred_reboot_user_auto_deferral_enabled: true
                  custom_pending_reboot_notification_deferment_periods:
                    - 1
                    - 4
                    - 8
                  secrets: {}
                schedule_days: 254
                schedule_weeks_of_month: 62
                schedule_months: 8190
                schedule_time: '03:00'
                use_scheduled_timezone: false
                notes: Schedule regular updates to software that don’t require a reboot
                create_time: 2023-03-12T17:40:47+0000
                server_groups:
                  - 102245
                  - 189887
                server_count: 2
                status: inactive
                community_worklet_id: null
                community_worklet_uuid: null
                policy_template_id: 9
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - Policies
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{ "Authorization" = "Bearer $apiKey" }
            $url = "https://console.automox.com/api/policies/12345?o=0000"
            $response = (Invoke-WebRequest -Method Get -Uri $url -Headers $headers).Content
      x-meta:
        seo:
          title: Automox Console API Documentation | Retrieve a Specific Policy
          description: Retrieve a specific policy object from a given organization for which the authenticated user has access.
    put:
      operationId: updatePolicy
      summary: Updates a specific policy object for the authenticated user.
      description: Updates a specific policy object for the authenticated user. For more info on filter types and scheduling, see [Policy and Device Filters, and Scheduling](/developer-portal/policy_filters_schedule).
      parameters:
        - name: id
          in: path
          description: Policy ID for the specified policy
          required: true
          schema:
            type: integer
        - name: o
          in: query
          description: Organization ID for the specified policy
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              discriminator:
                propertyName: policy_type_name
                mapping:
                  patch: '#/components/schemas/PatchPolicyRequest'
                  custom: '#/components/schemas/CustomPolicyRequest'
                  required_software: '#/components/schemas/RequiredSoftwarePolicyRequest'
              examples:
                - name: Test Patch All Policy
                  policy_type_name: patch
                  organization_id: 9999
                  schedule_days: 42
                  schedule_weeks_of_month: 20
                  schedule_months: 4680
                  schedule_time: '12:00'
                  use_scheduled_timezone: false
                  configuration:
                    auto_patch: true
                    notify_user: true
                    auto_reboot: true
                    patch_rule: all
                    filter_type: 'null'
                    missed_patch_window: false
                    device_filters_enabled: true
                    device_filters:
                      - field: tag
                        op: in
                        value:
                          - Windows
                          - Win10
                    secrets:
                      my_secret_name:
                        id: 705d95c8-659a-4344-8fab-5470cbf077e6
                    include_optional: true
                    notify_reboot_user: true
                    notify_deferred_reboot_user: true
                    custom_notification_patch_message: Important updates are going to be installed!
                    custom_notification_patch_message_mac: Important updates are going to be installed!
                    custom_notification_reboot_message: Reboot needed to finish installing updates!
                    custom_notification_reboot_message_mac: Reboot needed to finish installing updates!
                    custom_notification_max_delays: 3
                    custom_notification_deferment_periods:
                      - 1
                      - 4
                      - 8
                    custom_pending_reboot_notification_message: Your computer needs to reboot to install updates!
                    custom_pending_reboot_notification_message_mac: Your computer needs to reboot to install updates!
                    custom_pending_reboot_notification_deferment_periods:
                      - 1
                      - 4
                      - 8
                    notify_user_message_timeout: 15
                    notify_deferred_reboot_user_message_timeout: 15
                    notify_user_auto_deferral_enabled: true
                    notify_deferred_reboot_user_auto_deferral_enabled: true
                  server_groups:
                    - 250624
                    - 90125
                  notes: Here are some notes
                - name: Test Required Software Policy
                  policy_type_name: required_software
                  organization_id: 9999
                  schedule_days: 42
                  schedule_weeks_of_month: 20
                  schedule_months: 4680
                  schedule_time: '12:00'
                  use_scheduled_timezone: true
                  configuration:
                    os_family: Windows
                    package_name: NotePadPlusPlus
                    package_version: 7.8.4
                    installation_code: .\npp.7.8.4.Installer.x64.exe /S
                    secrets:
                      my_secret_name:
                        id: 705d95c8-659a-4344-8fab-5470cbf077e6
                  notify_user: true
                  server_groups:
                    - 250624
                    - 90125
                  notes: Here are some notes
                - name: Advanced Policy
                  policy_type_name: patch
                  organization_id: 9999
                  schedule_days: 42
                  schedule_weeks_of_month: 20
                  schedule_months: 4680
                  schedule_time: '00:00'
                  use_scheduled_timezone: false
                  configuration:
                    auto_patch: true
                    auto_reboot: true
                    patch_rule: advanced
                    advanced_filter:
                      - left: patch-os
                        right: windows
                        condition: is
                      - left: patch-source
                        right: windowsupdate
                        condition: is
                    missed_patch_window: false
                    device_filters_enabled: true
                    device_filters:
                      - field: tag
                        op: in
                        value:
                          - Windows
                          - Win10
                    secrets:
                      my_secret_name:
                        id: 705d95c8-659a-4344-8fab-5470cbf077e6
                    include_optional: true
                    notify_reboot_user: true
                    notify_deferred_reboot_user: true
                    custom_notification_patch_message: Important updates are going to be installed!
                    custom_notification_patch_message_mac: Important updates are going to be installed!
                    custom_notification_reboot_message: Reboot needed to finish installing updates!
                    custom_notification_reboot_message_mac: Reboot needed to finish installing updates!
                    custom_notification_max_delays: 3
                    custom_notification_deferment_periods:
                      - 1
                      - 4
                      - 8
                    custom_pending_reboot_notification_message: Your computer needs to reboot to install updates!
                    custom_pending_reboot_notification_message_mac: Your computer needs to reboot to install updates!
                    custom_pending_reboot_notification_deferment_periods:
                      - 1
                      - 4
                      - 8
                    notify_user_message_timeout: 15
                    notify_deferred_reboot_user_message_timeout: 15
                    notify_user_auto_deferral_enabled: true
                    notify_deferred_reboot_user_auto_deferral_enabled: true
                    notify_user: true
                  server_groups:
                    - 250624
                    - 90125
                  notes: Here are some notes
                - name: Manual Approval
                  policy_type_name: patch
                  organization_id: 9999
                  schedule_days: 42
                  schedule_weeks_of_month: 20
                  schedule_months: 4680
                  schedule_time: '12:00'
                  use_scheduled_timezone: false
                  configuration:
                    auto_patch: true
                    patch_rule: manual
                    auto_reboot: true
                    notify_user: true
                    include_optional: false
                    notify_reboot_user: true
                    secrets:
                      my_secret_name:
                        id: 705d95c8-659a-4344-8fab-5470cbf077e6
                    notify_deferred_reboot_user: true
                    custom_notification_max_delays: 3
                    custom_notification_patch_message: 'System Update: An important update will be installed.'
                    custom_notification_reboot_message: An important update will be installed; reboot may be required.
                    custom_notification_deferment_periods:
                      - 1
                      - 4
                      - 8
                    custom_notification_patch_message_mac: 'System Update: An important update will be installed.'
                    custom_notification_reboot_message_mac: An important update will be installed; reboot may be required.
                    custom_pending_reboot_notification_message: 'Updates require reboot: Please save your work.'
                    notify_deferred_reboot_user_message_timeout: 15
                    custom_pending_reboot_notification_max_delays: 3
                    custom_pending_reboot_notification_message_mac: 'Updates require reboot: Please save your work.'
                    notify_deferred_reboot_user_auto_deferral_enabled: false
                    custom_pending_reboot_notification_deferment_periods:
                      - 1
                      - 4
                      - 8
                  server_groups:
                    - 250624
                    - 90125
                  notes: Here are some notes
              oneOf:
                - $ref: '#/components/schemas/PatchPolicyRequest'
                - $ref: '#/components/schemas/CustomPolicyRequest'
                - $ref: '#/components/schemas/RequiredSoftwarePolicyRequest'
      responses:
        '204':
          description: Update Successful
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - Policies
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{
                "Authorization" = "Bearer $apiKey"
                "Content-Type" = "application/json"
              }
            $url = "https://console.automox.com/api/policies/12345?o=0000"
            $body = @"
              {
                "name": "API Created",
                "policy_type_name": "patch",
                "organization_id": 0000,
                "configuration": {
                  "auto_patch": false,
                  "auto_reboot": true,
                  "notify_reboot_user": true,
                  "notify_user": true,
                  "missed_patch_window": true,
                  "patch_rule": "advanced",
                  "filters": ["*KB2267602*","*Exclude This Too*"],
                  "severity_filter": ["low","medium","high","critical","none","unknown"],
                  "include_optional": true,
                  "custom_notification_patch_message": "Notification Text before normal patch - Windows - Max 125 Char",
                  "custom_notification_reboot_message": "Notification Text before reboot patch - Windows - Max 125 Char",
                  "custom_notification_patch_message_mac": "Notification Text before normal patch - Mac - Max 70 Char",
                  "custom_notification_reboot_message_mac": "Notification Text before reboot patch - Mac - Max 70 Char",
                  "custom_notification_max_delays": 3,
                  "custom_notification_deferment_periods": [1, 4, 8],
                  "notify_user_message_timeout": 120,
                  "notify_user_auto_deferral_enabled": false,
                  "notify_deferred_reboot_user_message_timeout": 120,
                  "notify_deferred_reboot_user_auto_deferral_enabled": true,
                  "advanced_filter": [
                          {
                              "left": "patch-source",
                              "right": "windowsupdate",
                              "condition": "is"
                          },
                          {
                              "left": "severity",
                              "right": "medium",
                              "condition": "greater-than-or-equal-to"
                          }
                      ],
                      "device_filters": [
                          {
                              "field": "os_family",
                              "op": "in",
                              "value": ["Windows"]
                          },
                          {
                              "field": "hostname",
                              "op": "like_any",
                              "value": ["WinDev2104Eval"]
                          }
                        ],
                },
                "secrets": {
                      "my_secret_name": {
                        "id": "705d95c8-659a-4344-8fab-5470cbf077e6"
                      }
                  },
                "schedule_days": 146,
                "schedule_weeks_of_month": 42,
                "schedule_months": 4162,
                "schedule_time": "01:00",
                "notes": "Patch every Mon,Thu,Fri\n1st,3rd,5th Week\nJan,Jun,Dec",
                "server_groups": [
                  250624,
                  90125
                ]
              }
              "@
            Invoke-WebRequest -Method Put -Uri $url -Headers $headers -Body $body
      x-meta:
        seo:
          title: Automox Console API Documentation | Update a Specific Policy
          description: Update a specific policy object in a given organization for which the authenticated user has access.
    delete:
      operationId: deletePolicy
      summary: Delete specific policy object
      description: Deletes a specific policy object for the authenticated user.
      parameters:
        - name: id
          in: path
          description: Policy ID for the specified policy
          required: true
          schema:
            type: integer
        - name: o
          in: query
          description: Organization ID for the specified policy
          required: true
          schema:
            type: integer
      responses:
        '204':
          description: Successful Operation
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - Policies
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{ "Authorization" = "Bearer $apiKey" }
            $url = "https://console.automox.com/api/policies/12345?o=0000"
            $response = (Invoke-WebRequest -Method Delete -Uri $url -Headers $headers).Content
      x-meta:
        seo:
          title: Automox Console API Documentation | Delete a Specific Policy
          description: Delete a specific policy object in a given organization for which the authenticated user has access.
  /policies/{id}/files:
    post:
      operationId: uploadPolicyFile
      summary: Upload installation file to a required software policy.
      description: Upload file to a Required Software policy.
      parameters:
        - name: id
          in: path
          description: The policy ID for the target policy.
          required: true
          schema:
            type: integer
        - name: o
          in: query
          description: The target organization ID. Required for a child organization. Don't use for main organization.
          required: false
          schema:
            type: integer
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/RequiredSoftwareUpload'
      responses:
        '201':
          description: Successful Operation
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - Policies
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{
              "Authorization" = "Bearer $apiKey"
            }

            $uri = "https://console.automox.com/api/policies/{id}/files?o=9999"
            $contentType = "multipart/form-data"
            $boundary = [System.Guid]::NewGuid().ToString()

            $filePath = "C:\path_to_your_file"
            $fileName = Split-Path -Path $filePath -Leaf

            $bytes = [System.IO.File]::ReadAllBytes($filePath)
            $encodedFile = [System.Text.Encoding]::GetEncoding('UTF-8').GetString($bytes)

            $LF = "`r`n"
            $bodyLines = (
              "--$boundary",
              "Content-Disposition: form-data; name=`"file`"; filename=`"$fileName`"",
              "Content-Type: application/octet-stream$LF",
               $fileEnc,
              "--$boundary--$LF"
              ) -join $LF

            Invoke-WebRequest -Uri $uri -Method Post -ContentType "$contentType; boundary=`"$boundary`"" -Body $bodyLines -Headers $headers
        - lang: Python
          source: |
            import requests
            url = "https://console.automox.com/api/policies/<policyId>/files?o=<orgId>"

            payload = {}
            files=[
              ('file',('<filename>',open('/path/to/file','rb'),'application/octet-stream'))
            ]
            # Example: files = [
            #    ('file', ('npp.8.6.Installer.x64.exe', open('/Users/<your-user-name>/Downloads/npp.8.6.Installer.x64.exe', 'rb'),
            #              'application/octet-stream'))
            # ]

            headers = {
              'Content-Type': 'multipart/form-data',
              'Accept': 'application/json',
              'Authorization': 'Bearer <apiKey>'
            }

            response = requests.request("POST", url, headers=headers, data=payload, files=files)

            print(response.text)
      x-meta:
        seo:
          title: Automox Console API Docs | Upload Installation File
          description: Upload an installation file (MacOS, Windows, or Linux) to the specified Required Software policy using the Automox API.
  /policies/{id}/action:
    post:
      operationId: executePolicy
      summary: Schedule a policy for immediate remediation
      description: Schedule a policy for immediate remediation. **Note:** Please use this endpoint to execute a policy.
      parameters:
        - name: id
          in: path
          description: Policy ID for the specified policy
          required: true
          schema:
            type: integer
        - name: o
          in: query
          description: Organization ID for the specified policy
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PolicyAction'
      responses:
        '201':
          description: Action Started Successfully
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - Policies
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{ "Authorization" = "Bearer $apiKey" }

            $url = "https://console.automox.com/api/policies/12345/action?o=0000"
            $body = @{
                  "action" = "remediateAll"
            }
            Invoke-WebRequest -Method POST -Uri $url -Headers $headers -Body $body
      x-meta:
        seo:
          title: Automox Console API Docs | Schedule Policy to Run Now
          description: Schedule a specific policy for immediate remediation. Please use this endpoint to execute a policy.
  /policies/device-filters-preview:
    post:
      operationId: generatePolicyDeviceFilterPreview
      summary: Policy device filters preview
      description: Generate a preview of the list of devices that matches the provided device filter set. For more information, see [Policy and Device Filters, and Scheduling](/developer-portal/policy_filters_schedule).
      parameters:
        - name: o
          in: query
          description: Organization ID. The organization will be assumed based on the API key, if not specified.
          required: true
          schema:
            type: integer
        - name: page
          in: query
          description: The page of results you wish to be returned with page numbers starting at 0. See [About Automox API - Pagination](/developer-portal#pagination)
          required: false
          schema:
            type: integer
            default: 0
        - name: limit
          in: query
          description: A limit on the number of results to be returned, between 1 and 200 with a default of 25. Use with `page` parameter. See [About Automox API - Pagination](/developer-portal#pagination)
          required: false
          schema:
            type: integer
            default: 25
            maximum: 200
            minimum: 1
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PolicyDeviceFiltersPreview'
      responses:
        '200':
          description: Successful Operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PolicyDeviceFiltersOutput'
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - Policies
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{
                "Authorization" = "Bearer $apiKey"
                "Content-Type" = "application/json"
            }
            $url = "https://console.automox.com/api/policies/device-filters-preview?o=9237&page=0&limit=25"
            $body = @”
              {
                  "device_filters": [
                  {
                      "field": "os_family",
                      "op": "in",
                      "value": ["Windows"]
                  },
                  {
                      "field": "hostname",
                      "op": "like_any",
                      "value": ["WinDev2104Eval"]
                  }
                  ],
                  "server_groups": [102701]
              }
              ”@
            $response = (Invoke-WebRequest -Method Post -Uri $url -Headers $headers -Body $body -ContentType "application/json").Content
      x-meta:
        seo:
          title: Automox Console API Documentation | Device Filters Preview
          description: Generate a preview of the list of devices that matches the provided device filter set. See Policy and Device Filters and Scheduling for more info.
  /policystats:
    get:
      operationId: getPolicyStats
      summary: List policy compliance stats
      description: Retrieve policy compliance statistics for all policies.
      parameters:
        - name: o
          in: query
          description: Organization ID for retrieving policy stats. The organization will be assumed based on the API key, if not specified.
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Successful Operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PolicyStats'
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - Policies
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{ "Authorization" = "Bearer $apiKey" }
            $url = "https://console.automox.com/api/policystats?o=0000"
            Invoke-WebRequest -Method GET -Uri $url -Headers $headers
      x-meta:
        seo:
          title: Automox Console API Documentation | Retrieve Policy Stats
          description: Retrieve policy compliance statistics for all policies. Retrieve stats for all authenticated organizations, or for a specific organization.
  /reports/prepatch:
    get:
      operationId: getPrePatchReport
      summary: Pre patch report
      description: Retrieve the pre-patch report.
      parameters:
        - name: o
          in: query
          description: Organization ID. The organization will be assumed based on the API key, if not specified.
          required: true
          schema:
            type: integer
        - name: groupId
          in: query
          description: The ID of the server group for limiting results. If omitted, results will include all groups.
          required: false
          schema:
            type: integer
        - name: limit
          in: query
          description: Limit number of results returned per page. Typically used in combination with offset
          required: false
          schema:
            type: integer
            default: 250
            minimum: 1
        - name: offset
          in: query
          description: Specifies the offset. For example, if you are paging 250 at a time, you could specify 250 for the 2nd page and 500 for the 3rd, etc.
          required: false
          schema:
            type: integer
            default: 250
      responses:
        '200':
          description: Successful Operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PrePatch'
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - Reports
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{ "Authorization" = "Bearer $apiKey" }
            $url = 'https://console.automox.com/api/reports/prepatch?o=0000&groupId=12345&limit=10&offset=20'
            $response = (Invoke-WebRequest -Method Get -Uri $url -Headers $headers).Content
      x-meta:
        seo:
          title: Automox Console API Docs | Retrieve "Pre-Patch" Report
          description: Retrieve a report containing devices that have pending patches from a given organization, for the authenticated user.
  /reports/needs-attention:
    get:
      operationId: getNeedsAttentionReport
      summary: Needs attention report
      description: Retrieve a report containing devices that need attention.
      parameters:
        - name: o
          in: query
          description: Organization ID. The organization will be assumed based on the API key, if not specified.
          required: true
          schema:
            type: integer
        - name: groupId
          in: query
          description: Group ID. If omitted, results will include all groups for the authenticated user.
          required: false
          schema:
            type: integer
        - name: limit
          in: query
          description: Limit number of results returned per page. Typically used in combination with offset
          required: false
          schema:
            type: integer
            default: 250
            minimum: 1
        - name: offset
          in: query
          description: Specifies the offset. For example, if you are paging 250 at a time, you could specify 250 for the 2nd page and 500 for the 3rd, etc.
          required: false
          schema:
            type: integer
            default: 250
      responses:
        '200':
          description: Successful Operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/NeedsAttention'
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - Reports
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{ "Authorization" = "Bearer $apiKey" }
            $url = 'https://console.automox.com/api/reports/needs-attention?o=0000&groupId=12345&limit=10&offset=20'
            $response = (Invoke-WebRequest -Method Get -Uri $url -Headers $headers).Content
      x-meta:
        seo:
          title: Automox Console API Documentation | Retrieve the Needs Attention report.
          description: Retrieve a report containing devices that need attention from a given organization, for the authenticated user.
  /approvals:
    get:
      operationId: getApprovals
      summary: Retrieves a list of manual approvals, with their status.
      description: Retrieves a list of manual approvals, with their status, and the ability to include/exclude optional software.
      parameters:
        - name: o
          in: query
          description: Organization ID. If omitted, results will include the default (authenticated) organization. for the authenticated user.
          required: true
          schema:
            type: integer
        - name: page
          in: query
          description: The page of results you wish to be returned with page numbers starting at 0. See [About Automox API - Pagination](/developer-portal#pagination)
          required: false
          schema:
            type: integer
            default: 0
        - name: limit
          in: query
          description: A limit on the number of results to be returned, between 1 and 500 with a default of 500. Use with `page` parameter. See [About Automox API - Pagination](/developer-portal#pagination)
          required: false
          schema:
            type:
              - integer
            default: 500
            maximum: 500
            minimum: 1
        - name: policy_id[]
          in: query
          description: The ID or IDs of the policy/policies to retrieve. If omitted, this will retrieve all policies for the given organization.
          required: false
          schema:
            type: integer
        - name: include_optional
          in: query
          description: Enable or disable inclusion of optional Windows patches for this policy **NOTE:** Will default to false if not included.
          required: false
          schema:
            type: boolean
            default: false
        - name: sort_by
          in: query
          description: The field you want to sort by.
          required: false
          schema:
            type: string
            enum:
              - name
        - name: sort_dir
          in: query
          description: The sort direction, ascending or descending.
          required: false
          schema:
            type: string
            enum:
              - asc
              - desc
            x-enumDescriptions:
              asc: Ascending order
              desc: Descending order
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Approvals'
              example:
                size: 1
                results:
                  - id: 351
                    manual_approval: null
                    manual_approval_time: null
                    status: pending
                    software:
                      id: 137
                      software_version_id: 324
                      display_name: Adobe Refresh Manager
                      version: 0.0.19
                      os_family: Mac
                      cves: []
                    policy:
                      id: 5
                      name: A Manual Policy
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - Approvals
      x-meta:
        seo:
          title: Automox Console API Documentation | Retrieve a list of manual approvals with status.
          description: Retrieve a list of manual approvals with status
  /approvals/{id}:
    put:
      operationId: updateApprovals
      summary: Update manual approval record
      description: Update a manual approval record. Set the `manual_approval` attribute of approval object to `true` to approve a patch; set it to `false` to reject a patch.
      parameters:
        - name: id
          in: path
          description: Approval ID. Contact [Automox Support](mailto:support@automox.com) for further assistance.
          required: true
          schema:
            type: integer
        - name: o
          in: query
          description: The organization ID for the target organization.
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ApprovePolicy'
      responses:
        '200':
          description: Successful Operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/SoftwareApprovals'
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - Approvals
      x-meta:
        seo:
          title: Automox Console API Docs | Update a Manual Approval record.
          description: Update a Manual Approval record to either approve or reject a given software patch. Contact Automox Support for Approval ID.
  /users:
    get:
      operationId: getUsers
      summary: List all users with access to a given organization
      description: Retrieves a list of all users with access to an organization
      parameters:
        - name: o
          in: query
          description: The Organization whose users you wish to list. The organization will be assumed based on the API key, if not specified.
          required: true
          schema:
            type: integer
        - name: page
          in: query
          description: The page of results you wish to be returned with page numbers starting at 0. See [About Automox API - Pagination](/developer-portal#pagination)
          schema:
            type: integer
            default: 0
        - name: limit
          in: query
          description: A limit on the number of results to be returned, between 1 and 500 with a default of 500. Use with `page` parameter. See [About Automox API - Pagination](/developer-portal#pagination)
          schema:
            type: integer
            default: 500
            maximum: 500
            minimum: 1
      responses:
        '200':
          description: Successful
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/User'
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - Users
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{
                "Authorization" = "Bearer $apiKey"
            }
            $url = "https://console.automox.com/api/users?o=0000"
            Invoke-WebRequest -Method Get -Uri $url -Headers $headers
      x-meta:
        seo:
          title: Automox Console API Docs | List All Users With Access
          description: Retrieve a list of all users with access to a given organization, for which the authenticated user has access.
  /users/{userId}:
    get:
      operationId: getUserById
      summary: Retrieves a user by user ID
      description: Retrieves a user by user ID
      parameters:
        - name: userId
          in: path
          description: The User ID of the user to retrieve
          required: true
          schema:
            type: integer
        - name: o
          in: query
          description: The Organization whose users you wish to list. The organization will be assumed based on the API key, if not specified.
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Successful Operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/User'
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - Users
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{
                "Authorization" = "Bearer $apiKey"
            }
            $url = 'https://console.automox.com/api/users/999999?o=0000'
            Invoke-WebRequest -Method Get -Uri $url -Headers $headers
      x-meta:
        seo:
          title: Automox Console API Docs | Retrieve a Specific User by User ID
          description: Retrieve a specific user by user ID from a given organization, for which the authenticated user has access.
  /users/{userId}/api_keys:
    get:
      operationId: getUserApiKeys
      summary: Retrieves a list of API key objects for a user
      description: Returns a list of API keys for the given user under the requested organization. This response does not include the encrypted portion of the key.
      parameters:
        - name: userId
          in: path
          description: User ID of the user to retrieve API key objects
          required: true
          schema:
            type: integer
        - name: o
          in: query
          description: The Organization of the user.
          required: true
          schema:
            type: integer
        - name: page
          in: query
          description: The page of results you wish to be returned with page numbers starting at 0. See [About Automox API - Pagination](/developer-portal#pagination)
          schema:
            type: integer
            default: 0
        - name: limit
          in: query
          description: A limit on the number of results to be returned, between 1 and 500 with a default of 500. Use with page parameter. See [About Automox API - Pagination](/developer-portal#pagination)
          schema:
            type: integer
            default: 500
            maximum: 500
            minimum: 1
      responses:
        '200':
          description: Successful Operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  size:
                    type: integer
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/ApiKey'
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - API Keys
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{ "Authorization" = "Bearer $apiKey" }
            $url = "https://console.automox.com/api/users/{98765}/api_keys?o=0000&page=0&limit=25"
            $response = (Invoke-WebRequest -Method Get -Uri $url -Headers $headers).Content
      x-meta:
        seo:
          title: Automox Console API Docs | Retrieve API Keys For a Given User
          description: Retrieve a list of API key objects for a given user, in a given organization, for which the authenticated user has access.
    post:
      operationId: createUserApiKey
      summary: Creates an API key for a user
      description: '**Note:** A user is only allowed to have a maximum of 10 active keys per organization at any given time. Refer to [Managing Keys](https://help.automox.com/hc/en-us/articles/5385455262484-Managing-Keys#ManagingKeys-APIKey) for more information on required permissions.'
      parameters:
        - name: userId
          in: path
          description: User ID of the user to create an API key
          required: true
          schema:
            type: integer
        - name: o
          in: query
          description: The Organization of the user.
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateApiKey'
      responses:
        '200':
          description: Successful Operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiKey'
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - API Keys
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{ "Authorization" = "Bearer $apiKey" }
            $body = @"
              {
                "name": "My Test API Key",
                "expires_at": "2021-12-05T18:21:47+0000"
              }
              "@
            $url = 'https://console.automox.com/api/users/{98765}/api_keys/?o=0000'
            $response = (Invoke-WebRequest -Method Post -Uri $url -Headers $headers -Body $body -ContentType "application/json").Content
      x-meta:
        seo:
          title: Automox Console API Docs | Create an API Key For a Given User
          description: Create an API key for a given user. Refer to [Managing Keys](https://help.automox.com/hc/en-us/articles/5385455262484-Managing-Keys#ManagingKeys-APIKey) for more information on required permissions.
  /users/{userId}/api_keys/{id}:
    get:
      operationId: getUserApiKey
      summary: Retrieves an API key object by ID
      description: 'Note: The response does not contain the encrypted portion of the key. See [Decrypt User API Key](/openapi/axconsole/operation/decryptUserApiKey/)'
      parameters:
        - name: userId
          in: path
          description: The ID of the user to view keys for.
          required: true
          schema:
            type: integer
        - name: id
          in: path
          description: The ID of the API key object to retrieve
          required: true
          schema:
            type: integer
        - name: o
          in: query
          description: The target organization
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Successful Operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiKey'
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - API Keys
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'

            $headers = @{ "Authorization" = "Bearer $apiKey" }

            $url = 'https://console.automox.com/api/users/{98765}/api_keys/999999?o=0000'

            $response = (Invoke-WebRequest -Method Get -Uri $url -Headers $headers -ContentType "application/json").Content
      x-meta:
        seo:
          title: Automox Console API Docs | Retrieve an API Key For a Given User
          description: Retrieve an API key for a given user, in a given organization, for which the authenticated user has access.
    put:
      operationId: updateUserApiKey
      summary: Update an API Key by ID
      description: Enable or disable an API key for a given user, in a given organization.
      parameters:
        - name: userId
          in: path
          description: User ID of the user to update keys for
          required: true
          schema:
            type: integer
        - name: id
          in: path
          description: The ID of the API key to update
          required: true
          schema:
            type: integer
        - name: o
          in: query
          description: The target organization.
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateApiKey'
      responses:
        '200':
          description: Successful Operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiKey'
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - API Keys
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{ "Authorization" = "Bearer $apiKey" }
            $body = @"
            {
                "is_enabled": "False"
            }
            "@
            $url = 'https://console.automox.com/api/users/{98765}/api_keys/999999?o=0000&page=0&limit=25'
            $response = (Invoke-WebRequest -Method Put -Uri $url -Body $body -Headers $headers -ContentType "application/json").Content
      x-meta:
        seo:
          title: Automox Console API Docs | Update an API Key For a Given User
          description: Enable or disable an API key for a given user, in a given organization, for which the authenticated user has access.
    delete:
      operationId: deleteUserApiKey
      summary: Deletes an API Key by ID
      description: Deletes an API Key by ID
      parameters:
        - name: userId
          in: path
          description: User ID of the user to delete API Key for
          required: true
          schema:
            type: integer
        - name: id
          in: path
          description: The ID of the API key to delete
          required: true
          schema:
            type: integer
        - name: o
          in: query
          description: The target organization
          required: true
          schema:
            type: integer
      responses:
        '204':
          description: Successful Operation
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - API Keys
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key' $headers = @{ "Authorization" = "Bearer $apiKey" } $url = 'https://console.automox.com/api/users/{98765}/api_keys/999999?o=0000' $response = (Invoke-WebRequest -Method Delete -Uri $url -Headers $headers -ContentType "application/json").Content
      x-meta:
        seo:
          title: Automox Console API Docs | Delete an API Key For a Given User
          description: Delete an API key for a given user, in a given organization, for which the authenticated user has access.
  /users/{userId}/api_keys/{id}/decrypt:
    post:
      operationId: decryptUserApiKey
      summary: Decrypt user API key
      description: This endpoint allows you to decrypt the API key for an authenticated user.
      parameters:
        - name: userId
          in: path
          description: The ID of the user to decrypt keys for.
          required: true
          schema:
            type: integer
        - name: id
          in: path
          description: The ID of the API key to decrypt
          required: true
          schema:
            type: integer
        - name: o
          in: query
          description: The target organization
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Successful Operation
          content:
            application/json:
              schema:
                properties:
                  api_key:
                    type: string
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - API Keys
        - Users
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{ "Authorization" = "Bearer $apiKey" }
            $url = 'https://console.automox.com/api/users/{98765}/api_keys/999999/decrypt?o=0000'
            $response = (Invoke-WebRequest -Method Post -Uri $url -Headers $headers -ContentType "application/json").Content
      x-meta:
        seo:
          title: Automox Console API Docs | Decrypt an API Key For a Given User
          description: Decrypt an API key for a given user, in a given organization, for which the authenticated user has access.
  /worklet-catalog:
    get:
      operationId: getWorkletCatalog
      summary: Retrieve worklet catalog
      description: Retrieves a list of Worklets
      parameters:
        - name: page
          in: query
          description: The page of results you wish to be returned with page numbers starting at 0.
          schema:
            type: integer
            default: 0
        - name: limit
          in: query
          description: A limit on the number of results to be returned, between 1 and 500 with a default of 25. Use with page parameter.
          schema:
            type: integer
            default: 25
            maximum: 500
            minimum: 1
        - name: sort
          in: query
          description: The field you want to sort by, in ascending or descending order. If the sort field and q field are absent, the default sort order is `name:asc`. If the sort field is absent and the q field is present, the default sort is by relevance.
          schema:
            type: string
            enum:
              - name:asc
              - name:desc
              - create_time:asc
              - create_time:desc
              - update_time:asc
              - update_time:desc
              - id:asc
              - id:desc
              - category:asc
              - category:desc
              - os_family:asc
              - os_family:desc
        - name: q
          in: query
          description: A search query to filter results by. The array should contain strings for name, os, keywords, and/or description. If the sort field and q field are absent, the default sort order is `name:asc`. If the sort field is absent and the q field is present, the default sort is by relevance.
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: Successful Operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Worklet'
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - Worklets
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key' $headers = @{ "Authorization" = "Bearer $apiKey" }
            $url = "https://console.automox.com/api/worklet-catalog?page=0&limit=25&sort=name:asc&q=dbeaver,community
            $response = (Invoke-WebRequest -Method Get -Uri $url -Headers $headers -ContentType "application/json").Content
      x-meta:
        seo:
          title: Automox Console API Docs | Retrieve Worklet Catalog
          description: Retrieves a list of available Worklets from the Automox Worklet Catalog, from an organization, for which the authenticated user has access.
  /worklet-catalog/{UUID-legacy_id}:
    get:
      operationId: getWorkletByID
      summary: Retrieve worklet from catalog by uuid or legacy id
      description: Retrieves details for a specific Worklet by UUID or legacy ID
      parameters:
        - name: UUID-legacy_id
          in: path
          description: This can be the UUID or the Legacy ID of the Worklet
          required: true
          schema:
            oneOf:
              - type: string
                format: uuid
              - type: integer
                format: int64
                minimum: 1
      responses:
        '200':
          description: Successful Operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/WorkletDetails'
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - Worklets
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key' $headers = @{ "Authorization" = "Bearer $apiKey" }

            $url = "https://console.automox.com/api/worklet-catalog/10af9475-fd20-4189-bb9c-e1c707ff2670"
            # The legacy_id can also be used here, for example `$url = "https://console.automox.com/api/worklet-catalog/123456"`
            $response = (Invoke-WebRequest -Method Get -Uri $url -Headers $headers -ContentType "application/json").Content
      x-meta:
        seo:
          title: Automox Console API Docs | Retrieve a Specific Worklet by UUID or legacy ID
          description: Retrieves a specific Worklet from the Automox Worklet Catalog, from an organization, for which the authenticated user has access.
  /data-extracts:
    get:
      operationId: getDataExtracts
      summary: List all data extracts for an organization
      description: List all Data extracts for an organization with ability to filter and sort results.
      parameters:
        - name: o
          in: query
          description: Organization ID for the target organization.
          required: true
          schema:
            type: integer
        - name: limit
          in: query
          description: A limit on the number of results to be returned, between 1 and 500, with a default of 25. Use with `page` parameter. See [About Automox API - Pagination](/developer-portal#pagination)
          required: false
          schema:
            type: integer
            default: 25
            maximum: 500
            minimum: 1
        - name: page
          in: query
          description: 'The page of results you wish to be returned with page numbers starting at 0. Default: 0. See [About Automox API - Pagination](/developer-portal#pagination)'
          required: false
          schema:
            type: integer
            default: 0
        - name: sort
          in: query
          description: 'The sort for the results. Options: `created_at:desc/asc` and `status:desc/asc`. Default: `created_at:desc`'
          required: false
          schema:
            type: array
            items:
              type: string
              enum:
                - created_at:desc
                - created_at:asc
                - status:desc
                - status:asc
              default: created_at:desc
        - name: type:equals
          in: query
          description: 'The type of Data Extracts to list. Options: `patch-history`, `api-activity`.'
          required: false
          schema:
            type: string
            default: patch-history
            enum:
              - patch-history
              - api-activity
            x-enumDescriptions:
              patch-history: Patch History data extract
              api-activity: API Activity data extract
        - name: created_at:greater_than
          in: query
          description: Created at date is greater than the value submitted. If a time is not specified, greater_than will have a time of start of day.
          required: false
          schema:
            type: string
            format: date-time
        - name: created_at:lesser_than
          in: query
          description: Created at date is less than the value submitted. If a time is not specified, less_than will have a time of end of day.
          required: false
          schema:
            type: string
            format: date-time
        - name: created_at:greater_than_or_equals
          in: query
          description: Created at date is greater than or equals the value submitted. If a time is not specified, greater_than_or_equals will have a time of start of day.
          required: false
          schema:
            type: string
            format: date-time
        - name: created_at:lesser_than_or_equals
          in: query
          description: Created at date is lesser than or equals the value submitted. If a time is not specified, less_than_or_equals will have a time of end of day.
          required: false
          schema:
            type: string
            format: date-time
        - name: status:equals
          in: query
          description: 'Find jobs with a specific status. Options: queued, running, complete, failed, canceled, expired'
          required: false
          schema:
            type: string
            enum:
              - queued
              - running
              - complete
              - failed
              - canceled
              - expired
        - name: status:in
          in: query
          description: Find jobs with one or more of these statuses.
          required: false
          schema:
            type: array
            items:
              type: string
              enum:
                - queued
                - running
                - complete
                - failed
                - canceled
                - expired
      responses:
        '200':
          description: Successful Operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/DataExtract'
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - Extracts
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key' $headers = @{ "Authorization" = "Bearer $apiKey" } $url = "https://console.automox.com/api/data-extracts?o=0000&limit=25&page=0&status:in=queued" $response = (Invoke-WebRequest -Method Get -Uri $url -Headers $headers).Content
      x-meta:
        seo:
          title: Automox Console API Docs | Retrieve a list of all Data Extracts
          description: Retrieve a list of all Data Extracts for a given organization, with the ability to filter and sort results.
    post:
      operationId: createExtract
      summary: Creates a new data extract.
      description: Create a new Data Extract.
      parameters:
        - name: o
          in: query
          description: Organization ID
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateDataExtract'
      responses:
        '200':
          description: Successful Operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/DataExtract'
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - Extracts
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key' $headers = @{
              "Authorization" = "Bearer $apiKey"
              "Content-Type" = "application/json"
            } $url = "https://console.automox.com/api/data-extracts?o=0000" $body = @”
                    {
                      "type": "patch-history",
                      "parameters": {
                        "start_time": '2021-05-28T13:31:57.510Z',
                        "end_time": '2021-05-30T06:42:12.117Z'
                      }
                    }
                  ”@
            $response = (Invoke-WebRequest -Method Post -Uri $url -Headers $headers -Body $body -ContentType "application/json").Content
      x-meta:
        seo:
          title: Automox Console API Documentation | Create a new Data Extract
          description: 'Creates a new Data Extract for a given organization using a given date range. Valid start time: Within the previous 90 days.'
  /data-extracts/{id}:
    get:
      operationId: getDataExtractByID
      summary: Show a new data extract job.
      description: Retrieves a specific Data Extract job.
      parameters:
        - name: o
          in: query
          description: The ID of the target organization
          required: true
          schema:
            type: integer
            format: int64
        - name: id
          in: path
          description: The ID of the Data Extract you want to view.
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Successful Operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/DataExtract'
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - Extracts
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key' $headers = @{ "Authorization" = "Bearer $apiKey" } $url = "https://console.automox.com/api/data-extracts/000?o=12345" $response = (Invoke-WebRequest -Method Get -Uri $url -Headers $headers -ContentType "application/json").Content
      x-meta:
        seo:
          title: Automox Console API Docs | Retrieve a specific Data Extract.
          description: Retrieves a specific Data Extract job by ID.
  /data-extracts/{id}/download:
    get:
      operationId: DownloadDataExtract
      summary: Download the CSV for a completed Data Extract job.
      description: Downloads the CSV for a completed Data Extract job. Triggers an automatic download of the CSV file.
      parameters:
        - name: id
          in: path
          description: The ID of the Data Extract to download.
          required: true
          schema:
            type: integer
            format: int64
        - name: o
          in: query
          description: Organization ID
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Downloads the extract file automatically.
          headers: {}
          content:
            application/octet-stream:
              example: {}
              schema:
                description: ''
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '410':
          description: Returned when the extract download is no longer available.
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      type: string
                required:
                  - errors
              example:
                errors:
                  - The extract download is no longer available
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Error'
      tags:
        - Extracts
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key' $headers = @{ "Authorization" = "Bearer $apiKey" } $url = 'https://console.automox.com/api/data-extracts/000/download?o=0000' Invoke-WebRequest -Method Get -Uri $url -Headers $headers -ContentType "application/octet-stream" -OutFile "$env:userprofile\Downloads\patch-history_report.csv"
      x-meta:
        seo:
          title: Automox Console API Docs | Download Data Extract CSV
          description: Downloads the CSV (comma-separated values) file for a completed Data Extract job, using the job ID.
  /accounts/{accountId}/rbac-roles:
    get:
      operationId: getAccountRbacRoles
      summary: List available RBAC roles for an account
      description: Return the available RBAC roles for an account.
      parameters:
        - name: accountId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  metadata:
                    $ref: '#/components/schemas/metadataObject'
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/rbacRole'
              example:
                data:
                  - slug: zone-admin
                    type: zone
                    name: Zone Administrator
                    description: Provides full administrative rights to a specific zone.
                  - slug: read-only
                    type: zone
                    name: Read Only
                    description: Provides full read rights to a specific zone.
                  - slug: billing-admin
                    type: zone
                    name: Billing Administrator
                    description: Provides full read rights in addition to the ability to view/edit billing information.
                  - slug: zone-operator
                    type: zone
                    name: Zone Operator
                    description: Provides ability to manage policies, endpoints, and server groups.
                  - slug: patch-operator
                    type: zone
                    name: Patch Operator
                    description: Provides the ability to execute patch, software, and worklet policies, as well as create and edit patch policies. This role cannot create or edit worklet or required software policies.
                  - slug: global-admin
                    type: account
                    name: Global Administrator
                    description: Provides full administrative rights to the entire Automox Account.
                  - slug: no-global-access
                    type: account
                    name: No Global Access
                    description: Provides zone level permissions only with no access to the Global View.
                metadata:
                  total_count: 6
                  total_pages: 1
                  current_page: 0
                  limit: 500
                  links: []
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
      tags:
        - Webserver
        - Account Management
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key' $headers = @{
              "Authorization" = "Bearer $apiKey"
              "Content-Type" = "application/json"
              }
            $url = "https://console.automox.com/api/accounts/{accountId}/rbac-roles" $response = (Invoke-WebRequest -Method Get -Uri $url -Headers $headers).Content
  /accounts/{accountId}:
    get:
      operationId: getAccount
      summary: Retrieve information for a specific account.
      description: Retrieve information for a specific account.
      parameters:
        - name: accountId
          in: path
          description: Account ID for the specified account
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Successful Operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/account'
              example:
                id: a18afd39-1182-4a78-8cd9-b410b9de2ea0
                name: Test GZM
                type: normal
                created_at: 2021-10-20T04:03:25+0000
                updated_at: 2021-10-20T04:03:25+0000
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
      tags:
        - AMS
        - Account Management
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key' $headers = @{
              "Authorization" = "Bearer $apiKey"
              "Content-Type" = "application/json"
              }
            $url = "https://console.automox.com/api/accounts/{accountId}" $response = (Invoke-WebRequest -Method Get -Uri $url -Headers $headers).Content
  /accounts/{accountId}/users/{userId}:
    delete:
      operationId: deleteAccountUser
      summary: Remove user from account.
      description: Remove user from account, revoking access to all zones.
      parameters:
        - name: accountId
          in: path
          description: Account ID to retrieve users for.
          required: true
          schema:
            type: string
            format: uuid
        - name: userId
          in: path
          description: ID of user to delete.
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '204':
          description: Successful Operation - No Content
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
      tags:
        - Webserver
        - Account Users
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key' $headers = @{
              "Authorization" = "Bearer $apiKey"
              "Content-Type" = "application/json"
              }
            $url = "https://console.automox.com/api/accounts/{accountId}/users/{userId}" $response = (Invoke-WebRequest -Method Delete -Uri $url -Headers $headers).Content
    get:
      operationId: getUser
      summary: Get information for a specific user.
      description: Retrieve information for a specific user.
      parameters:
        - name: accountId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: userId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccountUser'
              example:
                id: ef519091-5a62-476d-add6-d40270f3ebed
                user_id: 52316
                email: test.user@example.com
                first_name: Test
                last_name: User
                status: active
                account_rbac_role: global-admin
                is_verified: true
                two_factor_authentication: email
                created_at: 2021-12-06T22:43:37+0000
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
      tags:
        - Webserver
        - Account Users
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key' $headers = @{
              "Authorization" = "Bearer $apiKey"
              "Content-Type" = "application/json"
              }
            $url = "https://console.automox.com/api/accounts/{accountId}/users/{userId}" $response = (Invoke-WebRequest -Method Get -Uri $url -Headers $headers).Content
  /accounts/{accountId}/users/{userId}/zones:
    get:
      operationId: getZonesForUser
      summary: Get zones a user has been granted access to.
      description: Retrieve zones a user has been granted access to.
      parameters:
        - name: accountId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: userId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  metadata:
                    $ref: '#/components/schemas/metadataObject'
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        rbac_role:
                          $ref: '#/components/schemas/zoneRbacRole'
                        zone:
                          $ref: '#/components/schemas/zone'
              example:
                data:
                  - rbac_role: zone-admin
                    zone:
                      id: bbe165cb-4793-48d5-8ffa-64973ef6e9d0
                      organization_id: 100751
                      account_id: a18afd39-1182-4a78-8cd9-b410b9de2ea0
                      parent_id: 80c80102-2d0f-4c30-92c7-5c9e0ce102d0
                      name: Test Zone 2
                      created_by:
                        id: 56e207a9-3b3e-48f1-b738-4172f11f70fd
                        user_id: 50687
                        email: john.doe@example.com
                        first_name: John
                        last_name: Doe
                        status: active
                        account_rbac_role: global-admin
                        is_verified: true
                        two_factor_authentication: email
                        created_at: 2021-10-20T16:03:25+0000
                      access_key: 411747da-9467-41e5-920c-35142d47a06f
                      created_at: 2022-01-04T04:36:39+0000
                      updated_at: 2022-01-04T04:36:39+0000
                metadata:
                  total_pages: 1
                  current_page: 0
                  total_count: 2
                  limit: 500
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
      tags:
        - Webserver
        - Account Users
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key' $headers = @{
              "Authorization" = "Bearer $apiKey"
              "Content-Type" = "application/json"
              }
            $url = "https://console.automox.com/api/accounts/{accountId}/users/{userId}/zones" $response = (Invoke-WebRequest -Method Get -Uri $url -Headers $headers).Content
  /accounts/{accountId}/invitations:
    post:
      operationId: createInvitation
      summary: Create a new account invitation.
      description: Invite a user to the account with the ability to grant access to one or many zones.
      parameters:
        - name: accountId
          in: path
          description: Account ID to list invitations for.
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        $ref: '#/components/requestBodies/accountInvite'
      responses:
        '201':
          description: Successful Operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/invitation'
              example:
                - id: a75c3a2f-9c02-0479-8472-a17a25228fc5
                  account_id: c0faadbe-7246-24e6-5daa-9861d44b3660
                  account_rbac_role: global-admin
                  inviter:
                    id: 97149829
                    uuid: e15021df-8122-c87c-4180-79084cba5a62
                    email: jane.doe@example.com
                    first_name: Jane
                    last_name: Doe
                    status: active
                    account_rbac_role: global-admin
                    is_verified: true
                    two_factor_authentication: email
                    created_at: '2021-08-02T22:33:30.281Z'
                  email: john.doe@example.com
                  zones:
                    - id: 3a55518d-2488-6f4e-55fb-a40fc120cd12
                      rbac_role: zone-admin
                    - id: 470b44ab-f667-b9bb-fcab-d8faf8696b24
                      rbac_role: zone-admin
                  created_at: '2021-03-04T23:57:24.953Z'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '409':
          $ref: '#/components/responses/BadRequest'
        '429':
          $ref: '#/components/responses/RateLimit'
      tags:
        - Webserver
        - Account Users
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{
              "Authorization" = "Bearer $apiKey"
              "Content-Type" = "application/json"
              }
            $body = @" {
              "email": "string",
              "account_rbac_role": "global-admin",
              "zone_assignments": [
                {
                  "zone_id": "string",
                  "rbac_role": "zone-admin"
                }
              ]
            }
            "@
            $url = "https://console.automox.com/api/accounts/{accountId}/invitations"

            $response = (Invoke-WebRequest -Method Post -Uri $url -Headers $headers -Body $body).Content
  /accounts/{accountId}/zones:
    get:
      operationId: getZones
      summary: List zones for an account.
      description: List zones for an account.
      parameters:
        - name: accountId
          in: path
          description: Account ID to list zones for.
          required: true
          schema:
            type: string
            format: uuid
        - name: page
          in: query
          description: The page of results you wish to be returned with page numbers starting at 0.
          required: false
          schema:
            type: integer
            format: int64
            default: 0
        - name: limit
          in: query
          description: A limit on the number of results to be returned, between 1 and 500, with a default of 500. Use with page parameter.
          required: false
          schema:
            type: integer
            format: int64
            default: 500
      responses:
        '200':
          description: Successful Operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  metadata:
                    $ref: '#/components/schemas/metadataObject'
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/zone'
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
      tags:
        - AMS
        - Zone Management
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{
              "Authorization" = "Bearer $apiKey"
              "Content-Type" = "application/json"
              }
            $url = "https://console.automox.com/api/accounts/{accountId}/zones"

            $response = (Invoke-WebRequest -Method Get -Uri $url -Headers $headers).Content
    post:
      operationId: createZone
      summary: Create a new zone.
      description: Create a new zone.
      parameters:
        - name: accountId
          in: path
          description: Account ID to create a new zone.
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        $ref: '#/components/requestBodies/createZone'
      responses:
        '201':
          description: Successful Operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/zone'
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
      tags:
        - AMS
        - Zone Management
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key' $headers = @{
              "Authorization" = "Bearer $apiKey"
              "Content-Type" = "application/json"
              }
            $body = @"{
              "name": "string",
              "parent_id": "1c6ca187-e61f-4301-8dcb-0e9749e89eef"
            } "@
            $url = "https://console.automox.com/api/accounts/{accountId}/zones" $response = (Invoke-WebRequest -Method Post -Uri $url -Headers $headers).Content
  /accounts/{accountId}/zones/{zoneId}:
    get:
      operationId: getZone
      summary: Retrieve information for a specific zone.
      description: Retrieve information for a specific zone.
      parameters:
        - name: accountId
          in: path
          description: Account ID for the specified account
          required: true
          schema:
            type: string
            format: uuid
        - name: zoneId
          in: path
          description: ID for the specified zone
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Successful Operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/zone'
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
      tags:
        - AMS
        - Zone Management
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key' $headers = @{
              "Authorization" = "Bearer $apiKey"
              "Content-Type" = "application/json"
              }
            $url = "https://console.automox.com/api/accounts/{accountId}/zones/{zoneId}" $response = (Invoke-WebRequest -Method Get -Uri $url -Headers $headers).Content
  /accounts/{accountId}/zones/{zoneId}/users:
    get:
      operationId: getUserZones
      summary: List users that are assigned to a zone.
      description: List users that are assigned to the zone.
      parameters:
        - name: accountId
          in: path
          description: Account ID to retrieve users for.
          required: true
          schema:
            type: string
            format: uuid
        - name: zoneId
          in: path
          description: ID for the specified zone
          required: true
          schema:
            type: string
            format: uuid
        - name: page
          in: query
          description: The page of results you wish to be returned with page numbers starting at 0.
          required: false
          schema:
            type: integer
            format: int64
            default: 0
        - name: limit
          in: query
          description: A limit on the number of results to be returned, between 1 and 500, with a default of 25. Use with page parameter.
          required: false
          schema:
            type: integer
            format: int64
            default: 500
      responses:
        '200':
          description: Successful Operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/zoneUser'
                  metadata:
                    $ref: '#/components/schemas/metadataObject'
              examples:
                ZoneUser:
                  summary: A basic Zone User object
                  value:
                    data:
                      - id: 50687
                        uuid: 56e207a9-3b3e-48f1-b738-4172f11f70fd
                        email: gzmtest@automox.com
                        first_name: GZM
                        last_name: TestAccount
                        status: active
                        account_rbac_role: global-admin
                        is_verified: false
                        two_factor_authentication: email
                        created_at: 2021-10-20T16:03:25+0000
                        zone_rbac_role: zone-admin
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
      tags:
        - Webserver
        - Zone Users
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key' $headers = @{
              "Authorization" = "Bearer $apiKey"
              "Content-Type" = "application/json"
              }
            $url = "https://console.automox.com/api/accounts/{accountId}/zones/{zoneId}/users" $response = (Invoke-WebRequest -Method Get -Uri $url -Headers $headers).Content
  /accounts/{accountId}/zones/{zoneId}/users/{userId}:
    delete:
      operationId: deleteUserFromZone
      summary: Remove user from a zone.
      description: Remove user assignment from zone. This action has no effect if the user is a global-admin.
      parameters:
        - name: accountId
          in: path
          description: Account UUID to retrieve users for.
          required: true
          schema:
            type: string
            format: uuid
        - name: zoneId
          in: path
          description: UUID for the specified zone
          required: true
          schema:
            type: string
            format: uuid
        - name: userId
          in: path
          description: UUID for the specified user
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '204':
          description: Successful Operation - No Content
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
      tags:
        - Webserver
        - Zone Users
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key' $headers = @{
              "Authorization" = "Bearer $apiKey"
              "Content-Type" = "application/json"
              }
            $url = "https://console.automox.com/api/accounts/{accountId}/zones/{zoneId}/users/{userId}" $response = (Invoke-WebRequest -Method Delete -Uri $url -Headers $headers).Content
  /policies/{policyId}/clone:
    post:
      operationId: clonePolicy
      summary: Clone a Patch Policy to a list of Zones/Organizations
      description: Clone a Patch Policy to a list of Zones/Organizations
      parameters:
        - name: policyId
          in: path
          description: ID of the specified policy. **Note:** The specified policy can only be a `patch` policy.
          required: true
          schema:
            type: integer
            format: int64
      requestBody:
        $ref: '#/components/requestBodies/clonePolicy'
      responses:
        '201':
          description: Successful Operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/clonePolicy'
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
      tags:
        - Policy Management
  /orgs/{orgID}/remediations/action-sets/upload/formats:
    get:
      operationId: retrieveCSVFormats
      summary: Retrieve a list of acceptable CSV formats for uploading remediations.
      description: Retrieves a list of acceptable CSV formats for uploading remediations.
      parameters:
        - name: orgID
          in: path
          description: The ID of the target organization.
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/FormatsObject'
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
      tags:
        - Vulnerability Sync CSV Actions
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{ "Authorization" = "Bearer $apiKey" }
            $url = "https://console.automox.com/api/orgs/:orgID/remediations/action-sets/upload/format"

            $response = (Invoke-WebRequest -Method Get -Uri $url -Headers $headers -ContentType "application/json").Content
      x-meta:
        seo:
          title: Automox Remediations API Docs | Retrieve List of CSV Formats
          description: Retrieves list of CSV formats for uploads from a given organization, for which the authenticated user has access.
  /orgs/{orgID}/remediations/action-sets/upload:
    post:
      operationId: uploadRemediationCSV
      summary: Upload a CSV file to Automox
      description: Upload a CSV file to Automox. Maximum file size = 20,000 rows
      parameters:
        - name: orgID
          in: path
          description: The organization ID of the target organization.
          required: true
          schema:
            type: integer
        - name: source
          in: query
          description: 'The source of the CSV. Acceptable values: generic | qualys | tenable | crowd-strike | rapid7'
          required: true
          schema:
            type: string
      requestBody:
        content:
          multipart/form-data:
            schema:
              properties:
                file:
                  type: string
                format:
                  type: string
                  default: crowd-strike
                  enum:
                    - crowd-strike
                    - rapid7
                    - tenable
                    - generic
                    - qualys
              required:
                - file
                - format
            encoding:
              file:
                contentType: text/csv
      responses:
        '201':
          description: Successful Operation - The response will contain a location header containing the path to the newly created action set.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ActionSet'
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '413':
          $ref: '#/components/responses/PayloadTooLarge'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
      tags:
        - Vulnerability Sync CSV Actions
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{
              "Authorization" = "Bearer $apiKey"
            }
            $url = "https://console.automox.com/api/orgs/{orgID}/remediations/action-sets/upload"
            $form = @{
              "format" = "<your desired format goes here>"
              "file" = Get-Item -Path '<the path to your file goes here>'
            }

            $response = (Invoke-WebRequest -Method Post -Uri $url -Headers $headers -Form $form).Content
        - lang: Python
          source: |
            import requests

            url = "https://console.automox.com/api/orgs/{orgID}/remediations/action-sets/upload?source={format}"

            payload = {
              'file': 'path/to/file',
              'format': 'format'
            }
            files=[

            ]
            headers = {
              'Content-Type': 'multipart/form-data',
              'Accept': 'application/json',
              'Authorization': 'Bearer {apiKey}'
            }

            response = requests.request("POST", url, headers=headers, data=payload, files=files)

            print(response.text)
      x-meta:
        seo:
          title: Automox Remediations API Docs | Upload a CSV Remediation Batch
          description: Upload a CSV Remediation Action Set for Vulnerability Sync to a given organization, for which the authenticated user has access.
  /orgs/{orgID}/remediations/action-sets/{actionSetID}:
    get:
      operationId: retrieveActionSet
      summary: Retrieve an Action Set
      description: Retrieve a specific Action Set by ID
      parameters:
        - name: orgID
          in: path
          description: The organization ID of the target organization.
          required: true
          schema:
            type: integer
        - name: actionSetID
          in: path
          description: The ID of the target Action Set.
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Successful Operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ActionSet'
              example:
                id: 17194
                statistics:
                  issues:
                    unknown-host:
                      count: 78
                  solutions:
                    patch-now:
                      count: 1
                      device_count: 1
                      vulnerability_count: 1
                    patch-with-worklet:
                      count: 96
                      device_count: 1
                      vulnerability_count: 4
                configuration_id: 1ee24da5-654d-6464-bb90-4b1496b4b3a0
                organization_id: 1191100
                status: ready
                source:
                  name: AVR Testing Config
                  type: Rapid7
                created_by_user:
                  id: 901250
                  firstname: Jane
                  lastname: Doe
                  email: janedoe@web.com
                created_at: 2023-07-27T10:00:53+0000
                updated_at: 2023-07-27T10:02:52+0000
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
      tags:
        - Vulnerability Sync Action Sets
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{ "Authorization" = "Bearer $apiKey" }
            $url = "/api/orgs/{orgID}/remediations/action-sets/{actionSetID}"

            $response = (Invoke-WebRequest -Method Get -Uri $url -Headers $headers).Content
      x-meta:
        seo:
          title: Automox Remediations API Docs | Retrieve a specific Action Set
          description: Retrieves a specific Action Set for a given organization, for which the authenticated user has access.
    delete:
      operationId: deleteActionSet
      summary: Delete a specific action set.
      description: Delete a specific action set.
      parameters:
        - name: orgID
          in: path
          description: The organization ID of the target organization.
          required: true
          schema:
            type: integer
        - name: actionSetID
          in: path
          description: The ID of the target Action Set.
          required: true
          schema:
            type: integer
      responses:
        '204':
          description: Successful Operation
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
      tags:
        - Vulnerability Sync Action Sets
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{ "Authorization" = "Bearer $apiKey" }
            $url = "/api/orgs/{orgID}/remediations/action-sets/{actionSetID}"

            $response = (Invoke-WebRequest -Method Delete -Uri $url -Headers $headers).Content
      x-meta:
        seo:
          title: Automox Remediations API Docs | Delete Action Set
          description: Deletes a given Action Set, in a given organization, for which the authenticated user has access.
  /orgs/{orgID}/remediations/action-sets/{actionSetID}/solutions:
    get:
      operationId: retrieveSolutionsList
      summary: Retrieves a paged list of solutions in a given Action Set.
      description: Retrieves a paged list of solutions in a given Action Set.
      parameters:
        - name: orgID
          in: path
          description: The organization ID of the target organization.
          required: true
          schema:
            type: integer
        - name: actionSetID
          in: path
          description: The ID of the target Action Set.
          required: true
          schema:
            type: integer
        - name: page
          in: query
          description: 'First page of data to display. Default: 0'
          required: false
          schema:
            type: integer
            default: 0
        - name: limit
          in: query
          description: Maximum number of results to display.
          required: false
          schema:
            type: integer
        - name: remediation_type:in[]
          in: query
          description: 'Filter by remediation type. Acceptable values: patch-now | patch-with-worklet'
          required: false
          schema:
            type: string
            enum:
              - patch-now
              - patch-with-worklet
        - name: solution_details_severity:in[]
          in: query
          description: 'Filter by severity. Acceptable values: critical | high | medium | low | none'
          required: false
          schema:
            type: string
            enum:
              - critical
              - high
              - medium
              - low
              - none
        - name: vulnerability_id:in[]
          in: query
          description: Filter by vulnerability.
          required: false
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: Successful Operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SolutionObject'
              example:
                metadata:
                  total_pages: 1
                  current_page: 0
                  limit: 500
                  total_count: 7
                data:
                  - id: 17194
                    solution_type: automox-patch
                    remediation_type: patch-now
                    solution_details:
                      requires_reboot: true
                      package_version_id: 116919
                      package_version: 1.10.218
                      package_name: legacy-error-adaptor 1.10.218
                      software_version: 1.10.218
                      software_name: legacy-error-adaptor
                    devices:
                      - id: 1
                        name: ThistleNewSavannah
                        custom_name: Thistle New Savannah
                        status: pending
                        deleted: false
                        ip_addrs_private:
                          - 192.215.169.176
                          - 125.200.74.239
                      - id: 2
                        name: BeigeBaumbachbury
                        custom_name: Beige Baumbachbury
                        status: pending
                        deleted: false
                        ip_addrs_private:
                          - 10.218.203.26
                          - 255.128.27.174
                    vulnerabilities:
                      - id: CVE-2014-1961
                        title: ''
                        summary: Unspecified vulnerability in the Portal WebDynPro in SAP NetWeaver allows remote attackers to obtain sensitive path information via unknown attack vectors.
                        severity: low
                      - id: CVE-2023-28152
                        title: ''
                        summary: An issue was discovered in Independentsoft JWord before 1.1.110. The API is prone to XML external entity (XXE) injection via a remote DTD in a DOCX file.
                        severity: high
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
      tags:
        - Vulnerability Sync Action Sets
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{ "Authorization" = "Bearer $apiKey" }
            $url = "https://console.automox.com/api/orgs/{orgID}/remediations/action-sets/{actionSetID}/solutions?page=0&solution_type=automox-patch"

            $response = (Invoke-WebRequest -Method Get -Uri $url -Headers $headers).Content
      x-meta:
        seo:
          title: Automox Remediations API Docs | List Solutions in an Action Set
          description: Retrieves solutions in a given Action Set, in a given organization, for which the authenticated user has access.
  /orgs/{orgID}/remediations/action-sets/{actionSetID}/issues:
    get:
      operationId: retrieveIssuesList
      summary: Retrieves a paged list of issues found when ingesting the data from the vulnerability report to create an action set.
      description: Retrieves a paged list of issues found when ingesting the data from the vulnerability report to create an action set.
      parameters:
        - name: orgID
          in: path
          description: The organization ID of the target organization.
          required: true
          schema:
            type: integer
        - name: actionSetID
          in: path
          description: The ID of the target Action Set.
          required: true
          schema:
            type: integer
        - name: page
          in: query
          description: 'First page of data to display. Default: 0'
          required: false
          schema:
            type: integer
            default: 0
        - name: limit
          in: query
          description: Maximum number of results to display.
          required: false
          schema:
            type: integer
        - name: issue_type:in[]
          in: query
          description: Filter on issue type.
          required: false
          schema:
            type: string
            enum:
              - unknown-host
      responses:
        '200':
          description: Successful Operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IssueObject'
              example:
                metadata:
                  total_pages: 1
                  current_page: 0
                  limit: 500
                  total_count: 1
                data:
                  - id: 1
                    issue_type: unknown-host
                    issue_details:
                      hostname: DalePC
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
      tags:
        - Vulnerability Sync Action Sets
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{ "Authorization" = "Bearer $apiKey" }
            $url = "https://console.automox.com/api/orgs/{orgID}/remediations/action-sets/{actionSetID}/issues"

            $response = (Invoke-WebRequest -Method Get -Uri $url -Headers $headers).Content
      x-meta:
        seo:
          title: Automox Remediations API Docs | List Action Set Issues
          description: Retrieves Issues in a given Action Set, in a given organization, for which the authenticated user has access.
  /orgs/{orgID}/remediations/action-sets:
    get:
      operationId: retrieveActionSets
      summary: Retrieve a paged list of Action Sets
      description: Retrieve a paged list of Action Sets
      parameters:
        - name: orgID
          in: path
          description: The ID of the target organization
          required: true
          schema:
            type: integer
        - name: page
          in: query
          description: 'First page of data to display default: 0'
          required: false
          schema:
            type: integer
            default: 0
        - name: limit
          in: query
          description: The maximum number of results to display, between 0 and 500.
          required: false
          schema:
            type: integer
        - name: sort
          in: query
          description: 'Supported sort orders: source_name, source_type, status, updated_at, created_at, configuration_id'
          required: false
          schema:
            type: array
            items:
              type: string
              enum:
                - source_name
                - source_type
                - status
                - updated_at
                - created_at
                - configuration_id
        - name: groupSort
          in: query
          description: 'Supported sort orders: asc, desc, latest_updated_at:asc, latest_updated_at:desc, source:asc, source:desc'
          required: false
          schema:
            type: array
            items:
              type: string
              enum:
                - asc
                - desc
                - latest_updated_at:asc
                - latest_updated_at:desc
                - source:asc
                - source:desc
        - name: source_type:in[]
          in: query
          description: Filter on report source.
          required: false
          schema:
            type: array
            items:
              type: string
              enum:
                - Generic Report
                - Crowdstrike
                - Rapid7
                - TenableIO
                - Qualys
        - name: status:not_in[]
          in: query
          description: Filter on status, where status is NOT in building | ready | error.
          required: false
          schema:
            type: array
            items:
              type: string
              enum:
                - building
                - ready
                - error
        - name: status:in[]
          in: query
          description: Filter on status, where status IS in building | ready | error.
          required: false
          schema:
            type: array
            items:
              type: string
              enum:
                - building
                - ready
                - error
        - name: configuration_id:equals
          in: query
          description: Filter on a specific configuration ID.
          required: false
          schema:
            type: string
            format: uuid
        - name: configuration_id:is_set
          in: query
          description: Filter based on whether the configuration ID is set.
          required: false
          schema:
            type: boolean
        - name: include_all_runs:equals
          in: query
          description: Choose whether to include all runs in the response.
          required: false
          schema:
            type: boolean
      responses:
        '200':
          description: Successful Operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ActionSetObject'
              example:
                metadata:
                  total_pages: 3
                  current_page: 0
                  limit: 30
                  total_count: 50
                data:
                  - id: 17194
                    statistics:
                      issues:
                        unknown-host:
                          count: 78
                      solutions:
                        patch-now:
                          count: 1
                          device_count: 1
                          vulnerability_count: 1
                        patch-with-worklet:
                          count: 96
                          device_count: 1
                          vulnerability_count: 4
                    configuration_id: 1ee24da5-654d-6464-bb90-4b1496b4b3a0
                    organization_id: 1191100
                    status: ready
                    source:
                      name: AVR Testing Config
                      type: Rapid7
                    created_by_user:
                      id: 901250
                      firstname: Jane
                      lastname: Doe
                      email: janedoe@web.com
                    created_at: 2023-07-27T10:00:53+0000
                    updated_at: 2023-07-27T10:02:52+0000
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
      tags:
        - Vulnerability Sync Action Sets
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{ "Authorization" = "Bearer $apiKey" }
            $url = "https://console.automox.com/api/orgs/{orgID}/remediations/action-sets?limit=25&page=0&sort=updated_at:desc&status:not_in[]=error&groupBy=configuration_id&groupSort=latest_updated_at:desc&configuration_id:is_set=true&include_all_runs:equals=true"

            $response = (Invoke-WebRequest -Method Get -Uri $url -Headers $headers -ContentType "application/json").Content
      x-meta:
        seo:
          title: Automox Remediations API Docs | List Action Sets
          description: Retrieves all remediation Action Sets for a given organization, for which the authenticated user has access.
    delete:
      operationId: deleteActionSetsBulk
      summary: Deletes action sets in bulk
      description: Bulk delete action sets.
      parameters:
        - name: orgID
          in: path
          description: The organization ID of the target organization.
          required: true
          schema:
            type: integer
      requestBody:
        description: Action Sets to be deleted
        required: true
        content:
          application/json:
            schema:
              properties:
                ids:
                  description: The IDs of the action sets you want to delete.
                  type: array
                  items:
                    type: integer
              required:
                - ids
      responses:
        '204':
          description: Successful Operation
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
      tags:
        - Vulnerability Sync Action Sets
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{
                "Authorization" = "Bearer $apiKey"
                "Content-Type" = "application/json"
            }
            $url = "https://console.automox.com/api/orgs/{orgID}/remediations/action-sets"
            $body = @"
            {
              "ids": [
                123456,
                789012
              ]
            }
            "@
            Invoke-WebRequest -Method Delete -Uri $url -Headers $headers -Body $body
      x-meta:
        seo:
          title: Automox Remediations API Docs | Delete Action Sets
          description: Deletes action sets in bulk, in a given organization, for which the authenticated user has access.
  /orgs/{orgID}/remediations/action-sets/{actionSetID}/actions:
    post:
      operationId: runActions
      summary: Execute actions in an action set
      description: Execute actions in an action set.
      parameters:
        - name: orgID
          in: path
          description: The organization ID of the target organization.
          required: true
          schema:
            type: integer
        - name: actionSetID
          in: path
          description: The ID of the action set.
          required: true
          schema:
            type: integer
      requestBody:
        description: The actions to be executed
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                actions:
                  type: array
                  items:
                    type: object
                    required:
                      - solutionId
                      - devices
                      - action
                    properties:
                      action:
                        description: The actions to be executed
                        type: string
                        enum:
                          - patch-now
                          - patch-with-worklet
                      solutionId:
                        type: integer
                      devices:
                        type: array
                        items:
                          type: integer
                      workletId:
                        type: integer
              required:
                - actions
      responses:
        '202':
          description: Accepted
        '400':
          $ref: '#/components/responses/Error'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/UnauthorizedAction'
        '404':
          $ref: '#/components/responses/NotFound'
        '413':
          $ref: '#/components/responses/PayloadTooLarge'
        '429':
          $ref: '#/components/responses/RateLimit'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
      tags:
        - Vulnerability Sync Action Sets
      x-codeSamples:
        - lang: PowerShell
          source: |
            $apiKey = 'your_automox_api_key'
            $headers = @{
                "Authorization" = "Bearer $apiKey"
                "Content-Type" = "application/json"
              }
            $body = @"
              "actions": [
                    {
                      "action": "patch-now",
                      "solutionId": 3674,
                      "devices": [2341, 3474, 7263]
                    },
                    {
                      "action": "patch-with-worklet",
                      "solutionId": 3676,
                      "workletId": 9878,
                      "devices": [2341, 3762]
                    }
                  ]
            "@
            $url = "https://console.automox.com/api/orgs/{orgID}/remediations/action-sets/{actionSetID}/actions"
            Invoke-WebRequest -Method Post -Uri $url -Headers $headers -Body $body
      x-meta:
        seo:
          title: Automox Remediations API Docs | Execute Actions for an Action Set
          description: Execute actions in an action set, in a given organization, for which the authenticated user has access.
components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
  responses:
    Error:
      description: Invalid Request
      content:
        application/json:
          schema:
            properties:
              errors:
                type: array
                items:
                  type: string
                maxItems: 1
    Unauthorized:
      description: Access token is missing or invalid
      content:
        application/json:
          schema:
            properties:
              errors:
                type: array
                items:
                  type: string
                maxItems: 1
    UnauthorizedAction:
      description: You do not have permission to perform this action.
      content:
        application/json:
          schema:
            description: Unauthorized
            type: object
            properties:
              errors:
                type: array
                items:
                  type: string
            required:
              - errors
    NotFound:
      description: Entity not found
      content:
        application/json:
          schema:
            properties:
              errors:
                type: array
                items:
                  type: string
                maxItems: 1
    RateLimit:
      description: Too many requests
      content:
        application/json:
          schema:
            properties:
              errors:
                type: array
                items:
                  type: string
                maxItems: 1
    ServiceUnavailable:
      description: Service Unavailable
      content:
        application/json:
          schema:
            properties:
              errors:
                type: array
                items:
                  type: string
                maxItems: 1
    BadRequest:
      description: Bad Request
      content:
        application/json:
          schema:
            properties:
              errors:
                type: array
                items:
                  type: string
          example:
            errors:
              - Bad Request
    PayloadTooLarge:
      description: The file you are trying to upload is too large.
      content:
        application/json:
          schema:
            description: ''
            type: object
            properties:
              errors:
                type: array
                items:
                  type: string
            required:
              - errors
          examples:
            Payload is too large:
              value:
                errors:
                  - Payload Too Large
  schemas:
    EventData:
      type: object
      properties:
        firstname:
          type: string
          examples:
            - John
        lastname:
          type: string
          examples:
            - Doe
        email:
          type: string
          format: email
          examples:
            - john.doe@example.com
        orgname:
          type: string
          examples:
            - Example Inc.
        ip:
          type: string
          examples:
            - 192.168.0.23
            - 168.72.0.65
        os:
          type: string
          examples:
            - Windows
            - Linux
        systemname:
          type: string
          examples:
            - My New Device
        text:
          type: string
          examples:
            - This is a test message
        status:
          type: integer
          format: int64
          examples:
            - 1
            - 0
        patches:
          type: string
          examples:
            - KB123456
            - KB123457
    SystemEventData:
      type: object
      properties:
        ip:
          type: string
          format: ipv4
          examples:
            - 204.168.52.17
        os:
          type: string
          examples:
            - Windows
            - Linux
        systemname:
          type: string
          examples:
            - Test Device
    NotificationResponseData:
      type: object
      properties:
        response:
          type: string
          examples:
            - This is a test message
        notification_id:
          type: string
          examples:
            - 10af9475-fd20-4189-bb9c-e1c707ff2670
    NotificationSentData:
      type: object
      properties:
        scheduled_time:
          type: string
          format: date-time
          examples:
            - '2021-01-01T00:00:00Z'
        notification_id:
          type: string
          examples:
            - 10af9475-fd20-4189-bb9c-e1c707ff2670
        last_process_time:
          type: string
          format: date-time
          examples:
            - '2021-01-01T00:00:00Z'
    PatchAppliedData:
      type: object
      properties:
        ip:
          type: string
          examples:
            - 24.56.82.154
        os:
          type: string
          examples:
            - Windows
            - Ubuntu
        patches:
          type: string
          examples:
            - '"brave-browser" "python3-gpg" "libc-ares2" "libgpgme11" "libgpgmepp6" "libqgpgme7"'
        systemname:
          type: string
          examples:
            - Rsmith-PC
    PatchFailedData:
      type: object
      properties:
        ip:
          type: string
          examples:
            - 192.168.0.75
        os:
          type: string
          examples:
            - Windows
        failure:
          type: string
          examples:
            - KB123456
        systemname:
          type: string
          examples:
            - Test Device
    PolicyActionData:
      type: object
      properties:
        text:
          type:
            - string
            - 'null'
          examples:
            - 'Installed patches: "brave-browser" "python3-gpg" "libc-ares2" "libgpgme11" "libgpgmepp6" "libqgpgme7"'
        status:
          type: integer
          format: int64
          examples:
            - 1
            - 0
    UserData:
      type: object
      properties:
        email:
          type: string
          format: email
          examples:
            - john.doe@example.com
            - rsmith@somecompany.com
        orgname:
          type: string
          examples:
            - ACME Corp
        lastname:
          type:
            - string
            - 'null'
          examples:
            - Doe
            - Smith
        trialend:
          type:
            - string
            - 'null'
          format: date-time
          examples:
            - '2021-01-01T00:00:00Z'
        firstname:
          type:
            - string
            - 'null'
          examples:
            - John
            - Robert
        trialstart:
          type:
            - string
            - 'null'
          format: date-time
          examples:
            - '2021-01-01T00:00:00Z'
    SlackData:
      type: object
    SamlData:
      type: object
    OrgEndpointLimitData:
      type: object
    Event:
      type: object
      properties:
        id:
          type: integer
          format: int64
          examples:
            - 123456
            - 5243690
        name:
          description: Event type
          type: string
          examples:
            - system.add
        user_id:
          type: integer
          format: int64
          examples:
            - 754125
            - 901250
        server_id:
          type: integer
          format: int64
          examples:
            - 621453
            - 5728964
        organization_id:
          type: integer
          format: int64
          examples:
            - 8427961
            - 242896
        policy_id:
          type:
            - integer
            - 'null'
          format: int64
          examples:
            - 123456
            - null
        data:
          anyOf:
            - $ref: '#/components/schemas/EventData'
            - $ref: '#/components/schemas/SystemEventData'
            - $ref: '#/components/schemas/NotificationResponseData'
            - $ref: '#/components/schemas/NotificationSentData'
            - $ref: '#/components/schemas/PatchAppliedData'
            - $ref: '#/components/schemas/PatchFailedData'
            - $ref: '#/components/schemas/PolicyActionData'
            - $ref: '#/components/schemas/UserData'
            - $ref: '#/components/schemas/SlackData'
            - $ref: '#/components/schemas/SamlData'
            - $ref: '#/components/schemas/OrgEndpointLimitData'
        server_name:
          type: string
          examples:
            - My New Device
        policy_name:
          type: string
          examples:
            - Test Policy
        policy_type_name:
          type: string
          enum:
            - patch
            - custom
            - required_software
          x-enumDescriptions:
            patch: Patch Policy
            custom: Worklet Policy
            required_software: Required Software Policy
          examples:
            - patch
            - custom
        create_time:
          type: string
          format: date-time
          examples:
            - '2021-01-01T00:00:00Z'
            - '2021-02-15T14:30:00Z'
    policyDeviceData:
      type: object
      properties:
        timestamp:
          description: Refers to the event time for the device in the most recent policy execution. This is referred to in the console UI as `Event Time`
          type: string
          format: date-time
          examples:
            - '2021-01-01T00:00:00Z'
        result:
          description: The result of the policy execution for the device
          type: string
          enum:
            - success
            - failed
            - pending
        reason:
          description: If result is `pending` or `failed, the reason for this result
          type: string
          enum:
            - device_updated
            - see_activity_log
            - device_offline
        policy_id:
          type: integer
          format: int64
          examples:
            - 123456
        policy_uuid:
          type: string
          format: uuid
          examples:
            - 10af9475-fd20-4189-bb9c-e1c707ff2670
        device_id:
          type: integer
          format: int64
          examples:
            - 123456
        device_uuid:
          type: string
          format: uuid
          examples:
            - 10af9475-fd20-4189-bb9c-e1c707ff2670
        device_name:
          type: string
          examples:
            - My Device
        zone_id:
          type: string
          format: uuid
          examples:
            - 10af9475-fd20-4189-bb9c-e1c707ff2670
    ServerDetail:
      type: object
      properties:
        CPU:
          type: string
        DISKS:
          type: array
          items:
            type: object
            properties:
              SIZE:
                type: string
              TYPE:
                type: string
        MODEL:
          type: string
        NICS:
          type: array
          items:
            type: object
            properties:
              CONNECTED:
                type: boolean
              DEVICE:
                type: string
              IPS:
                type: array
                items:
                  type: string
              MAC:
                type: string
              TYPE:
                type: string
              VENDOR:
                type: string
        RAM:
          type: string
        SERIAL:
          type: string
        SERVICETAG:
          type: string
        VENDOR:
          type: string
        VERSION:
          type: string
    CompatibilityChecks:
      type: object
      properties:
        low_diskspace:
          type: boolean
        missing_secure_token:
          type: boolean
        app_store_disconnected:
          type: boolean
        missing_powershell:
          type: boolean
        missing_wmi_integrity_check:
          type: boolean
        wsus_disconnected:
          type: boolean
        windows_update_server_disconnected:
          type: boolean
    Command:
      type: object
      properties:
        id:
          type: integer
          format: int64
        server_id:
          type: integer
          format: int64
        policy_id:
          type: integer
          format: int64
        command_id:
          type: integer
          format: int64
        command_type_name:
          description: Type of command being issued
          type: string
          enum:
            - InstallUpdate
            - Reboot
        args:
          description: List of patches to apply, or NULL if issuing a Reboot
          type:
            - string
            - 'null'
          examples:
            - KB12345 KB67890
        response:
          type: string
        response_time:
          type: string
          format: date-time
        create_time:
          type: string
          format: date-time
        exec_time:
          description: Time to execute the command, or NULL if issuing a Reboot
          type:
            - string
            - 'null'
          format: date-time
          examples:
            - '2017-06-29T16:39:50.951Z'
      examples:
        - command_type_name: InstallUpdate
          args: KB12345 KB67890
          exec_time: '2017-06-29T16:39:50.951Z'
      required:
        - args
        - command_type_name
        - exec_time
    DeviceStatus:
      type: object
      properties:
        device_status:
          type: string
        agent_status:
          type: string
        policy_status:
          type: string
        policy_statuses:
          type: array
          items:
            type: object
            properties:
              id:
                type: integer
                format: int64
              compliant:
                type: boolean
    Server:
      type: object
      properties:
        id:
          type: integer
          format: int64
          example: 123456
        os_version_id:
          type: integer
          format: int64
        server_group_id:
          type: integer
          format: int64
        server_policies:
          type: array
          description: The policies that are applied to the device. This is an array of objects that contain the policy data for the device. This field is only used for single device requests.
          items:
            $ref: '#/components/schemas/policyDeviceData'
        organization_id:
          type: integer
          format: int64
        organizational_unit:
          type: string
          description: The AD organizational unit of the device.
        mdm:
          type: string
          description: The MDM the device is enrolled in.
          deprecated: true
        uuid:
          type: string
          format: uuid
        name:
          type: string
        instance_id:
          type: string
        refresh_interval:
          type: integer
          format: int64
          maximum: 1440
          minimum: 240
        last_update_time:
          type: string
        last_refresh_time:
          type: string
        uptime:
          description: The uptime of the device, measured in seconds.
          type: integer
          format: int64
        needs_reboot:
          type: boolean
        timezone:
          type: string
        tags:
          type: array
          items:
            type: string
        deleted:
          type: boolean
        create_time:
          type: string
          format: date-time
        os_version:
          type: string
        os_name:
          type: string
        os_family:
          type: string
        ip_addrs:
          type: array
          items:
            type: string
        ip_addrs_private:
          type: array
          items:
            type: string
        patches:
          type: integer
          format: int64
        detail:
          $ref: '#/components/schemas/ServerDetail'
        agent_version:
          type: string
        custom_name:
          type: string
        exception:
          type: boolean
        total_count:
          type: integer
          format: int64
        is_compatible:
          type: boolean
        compatibility_checks:
          $ref: '#/components/schemas/CompatibilityChecks'
        policy_status:
          type: array
          items:
            type: object
            properties:
              id:
                type: integer
                format: int64
              organization_id:
                type: integer
                format: int64
              policy_id:
                type: integer
                format: int64
              server_id:
                type: integer
                format: int64
              policy_name:
                type: string
              policy_type_name:
                type: string
                enum:
                  - patch
                  - custom
                  - required_software
                x-enumDescriptions:
                  patch: Patch Policy
                  custom: Worklet Policy
                  required_software: Required Software Policy
              status:
                type: integer
                description: Device Status. 0 = `STATUS_NEEDS_REMEDIATION`, 1 = `STATUS_UP_TO_DATE`, 2 = `STATUS_PENDING`
                format: int64
              result:
                type: string
              create_time:
                type: string
        last_scan_failed:
          type: boolean
        pending:
          type: boolean
        compliant:
          type: boolean
        display_name:
          type: string
        commands:
          type: array
          items:
            $ref: '#/components/schemas/Command'
        pending_patches:
          type: integer
          format: int64
        connected:
          type: boolean
        last_process_time:
          type: string
        next_patch_time:
          type: string
        notification_count:
          type: integer
        reboot_notification_count:
          type: integer
        patch_deferral_count:
          type: integer
        reboot_deferral_count:
          type: integer
        is_delayed_by_notification:
          type: boolean
        reboot_is_delayed_by_notification:
          type: boolean
        is_delayed_by_user:
          type: boolean
        reboot_is_delayed_by_user:
          type: boolean
        last_disconnect_time:
          type: string
          format: date-time
        needs_attention:
          type: boolean
        serial_number:
          type: string
        status:
          $ref: '#/components/schemas/DeviceStatus'
        last_logged_in_user:
          type: string
    DeviceFilters:
      description: Device Targeting Filters. See [Device Filter Parameters](/developer-portal/policy_filters_schedule/#device-filters---filter-parameters) for more information.
      type: array
      items:
        type: object
        properties:
          field:
            type: string
            enum:
              - tag
              - hostname
              - ip_addr
              - os_family
              - os_version_id
              - organizational_unit
          op:
            type: string
            enum:
              - in
              - not_in
              - like_any
              - not_like_any
            x-enumDescriptions:
              in: Field value in result. Corresponds to `is` on the console UI.
              not_in: Field value not in result. Corresponds to `is not` on the console UI.
              like_any: Field contains value. Corresponds to `contains` on the console UI.
              not_like_any: Field does not contain value. Corresponds to `does not contain` on the console UI.
          value:
            type: array
            items:
              oneOf:
                - type: string
                - type: boolean
                - type: array
                  items:
                    oneOf:
                      - type: string
                      - type: integer
                - type: number
    PatchPolicyConfiguration:
      description: Policy configuration used for Patch Policies
      type: object
      properties:
        auto_patch:
          description: Enable or disable Auto Patch.
          type: boolean
        auto_reboot:
          description: Enable or disable Auto Reboot.
          type: boolean
        notify_user:
          type: boolean
        missed_patch_window:
          type: boolean
        install_deferral_enabled:
          type: boolean
        pending_reboot_deferral_enabled:
          type: boolean
        patch_rule:
          description: Use only with Patch policy.
          type: string
          enum:
            - all
            - filter
            - manual
            - advanced
          x-enumDescriptions:
            all: Patch All
            filter: Patch All Except or Patch Only or Patch by Severity
            manual: Manually Approve
            advanced: Advanced Patch Policy
        filter_type:
          description: The type of filter being used. Use only with `patch_rule` = `filter`
          type:
            - string
            - 'null'
          enum:
            - include
            - exclude
            - severity
            - 'null'
          x-enumDescriptions:
            exclude: Patch All Except
            include: Patch Only
            severity: Patch by Severity
        device_filters_enabled:
          description: Enable or disable Device Targeting Filters.
          type: boolean
          default: false
        device_filters:
          $ref: '#/components/schemas/DeviceFilters'
        secrets:
          description: This object can optionally contain multiple objects containing information about secrets associated with the policy.
          type: object
          patternProperties:
            ^[a-zA-Z][a-zA-Z0-9_]+:
              type: object
              properties:
                id:
                  type: string
                  format: uuid
                organizationId:
                  type: string
                  format: uuid
                name:
                  type: string
                description:
                  type: string
                numPolicies:
                  type: integer
                createdAt:
                  type: string
                  format: date-time
        include_optional:
          description: Enable or disable inclusion of optional Windows patches for this policy **NOTE:** Will default to false if not included.
          type: boolean
          default: false
        notify_reboot_user:
          description: Display modified notification 15 minutes before patching. This message should inform the user that a reboot will follow patching actions.
          type: boolean
        notify_deferred_reboot_user:
          description: If `true`, this shows a post-install reboot notification message, if `notify_reboot_deferred` is also `true`. If `notify_reboot_deferred` is `false` or `null`, this will sync with the existing `notify_reboot_user` parameter.
          type:
            - boolean
            - 'null'
        notify_deferred_reboot_user_timeout:
          description: 'The amount of time a deferrable reboot notification message appears before timing out and closing. Min: 15 min. Max: 480 min. Default is 15 minutes.'
          type: integer
          format: int64
          default: 15
        custom_notification_patch_message:
          description: Message to display before a non-rebooting patch policy executes on a Windows device. Maximum 125 characters
          type: string
          maxLength: 125
        custom_notification_patch_message_mac:
          description: Message to display before a non-rebooting patch policy executes on a macOS device. Maximum 70 characters
          type: string
          maxLength: 70
        custom_notification_reboot_message:
          description: Message to display before a rebooting patch policy executes on a Windows device. Reboot will follow patching actions. Maximum 125 characters
          type: string
          maxLength: 125
        custom_notification_reboot_message_mac:
          description: Message to display before a rebooting patch policy executes on a macOS device. Reboot will follow patching actions. Maximum 70 characters
          type: string
          maxLength: 70
        custom_notification_max_delays:
          description: Maximum number of times a user is allowed to defer the reboot. The default is 0.
          type: integer
          format: int64
          default: 0
        custom_notification_deferment_periods:
          description: 'Integer array: Deferral time periods (hours) that users can choose from. Include up to 3. All 3 must be distinct with a maximum of 24. Default values: 1, 4, 8'
          type: array
          items:
            type: integer
            format: int64
          default:
            - 1
            - 4
            - 8
        custom_pending_reboot_notification_message:
          description: Custom reboot message.
          type: string
          maxLength: 125
        custom_pending_reboot_notification_message_mac:
          description: The custom reboot message for macOS, which overrides `custom_pending_reboot_notification_message` string, if provided.
          type: string
          maxLength: 70
        custom_pending_reboot_notification_max_delays:
          description: Maximum number of times a user is allowed to defer the reboot. The default is 0.
          type: integer
          format: int64
          default: 0
        custom_pending_reboot_notification_deferment_periods:
          description: 'The time period options available to defer a reboot for each deferral selection. Default values: 1, 4, 8'
          type: array
          items:
            type: integer
            format: int64
          default:
            - 1
            - 4
            - 8
        notify_user_message_timeout:
          description: 'The amount of time a patch notification appears before timing out and closing. Min: 15 min. Max: 480 min. Default is 15 minutes.'
          type: integer
          default: 15
          maximum: 480
          minimum: 15
        notify_deferred_reboot_user_message_timeout:
          description: 'The amount of time a deferrable reboot notification message appears before timing out and closing. Min: 15 min. Max: 480 min. Default is 15 minutes.'
          type: integer
          default: 15
          maximum: 480
          minimum: 15
        notify_user_auto_deferral_enabled:
          description: If a patch notification times out, apply the highest configured patch deferral.
          type: boolean
          default: false
        notify_deferred_reboot_user_auto_deferral_enabled:
          description: If a reboot notification times out, apply the highest configured reboot deferral.
          type: boolean
          default: false
      examples:
        - auto_patch: true
          auto_reboot: true
          notify_user: true
          missed_patch_window: true
          patch_rule: all
          device_filters_enabled: true
          device_filters:
            - field: tag
              op: in
              value:
                - Windows
                - Win10
          include_optional: true
          notify_reboot_user: true
          notify_deferred_reboot_user: true
          custom_notification_patch_message: Necessary Windows updates are about to be installed!
          custom_notification_patch_message_mac: Necessary Mac updates are about to be installed!
          custom_notification_reboot_message: Necessary Windows updates are about to be installed! Reboot Needed!
          custom_notification_reboot_message_mac: Necessary Mac updates are about to be installed! Reboot Needed!
          custom_notification_max_delays: 0
          custom_notification_deferment_periods:
            - 1
            - 4
            - 8
          custom_pending_reboot_notification_message: Your computer needs to restart to finish installing updates!
          custom_pending_reboot_notification_message_mac: Your Mac needs to restart to finish installing updates!
          custom_pending_reboot_notification_max_delays: 0
          custom_pending_reboot_notification_deferment_periods:
            - 2
            - 4
            - 6
          notify_user_message_timeout: 15
          notify_deferred_reboot_user_timeout: 15
          notify_user_auto_deferral_enabled: false
          notify_deferred_reboot_user_auto_deferral_enabled: false
      required:
        - auto_patch
        - notify_user
        - auto_reboot
        - patch_rule
      title: Patch Policy Configuration
    PatchFilterPolicyConfiguration:
      type: object
      properties:
        auto_patch:
          description: Enable or Disable automatic execution of the policy.
          type: boolean
        auto_reboot:
          description: Enable or Disable automatic reboots following policy execution.
          type: boolean
        patch_rule:
          description: Use only with Patch policy.
          type: string
          default: filter
          enum:
            - all
            - filter
            - manual
            - advanced
          x-enumDescriptions:
            all: Patch All
            filter: Patch All Except or Patch Only or Patch by Severity
            manual: Manually Approve
            advanced: Advanced Patch Policy
        filter_type:
          description: Use only with `patch_rule` of `filter`
          type: string
          enum:
            - include
            - exclude
            - severity
          x-enumDescriptions:
            exclude: Patch All Except
            include: Patch Only
            severity: Patch by Severity
        filters:
          description: Define packages to filter on. Use with `patch_rule` of `filter` and `filter_type` of `include` or `exclude`
          type: array
          items:
            type: string
        device_filters_enabled:
          description: Enable or disable Device Filters.
          type: boolean
          default: false
        device_filters:
          $ref: '#/components/schemas/DeviceFilters'
        secrets:
          description: This object can optionally contain multiple objects containing information about secrets associated with the policy.
          type: object
          patternProperties:
            ^[a-zA-Z][a-zA-Z0-9_]+:
              type: object
              properties:
                id:
                  type: string
                  format: uuid
                organizationId:
                  type: string
                  format: uuid
                name:
                  type: string
                description:
                  type: string
                numPolicies:
                  type: integer
                createdAt:
                  type: string
                  format: date-time
        severity_filter:
          description: Use only where `filter_type` is `severity`
          type:
            - array
            - 'null'
          items:
            type: string
            enum:
              - no_known_cves
              - none
              - unknown
              - low
              - medium
              - high
              - critical
        notify_reboot_user:
          description: Display modified notification 15 minutes before patching. This message should inform the user that a reboot will follow patching actions.
          type: boolean
        notify_deferred_reboot_user:
          description: If `true`, this shows a post-install reboot notification message, if `notify_reboot_deferred` is also `true`. If `notify_reboot_deferred` is `false` or `null`, this will sync with the existing `notify_reboot_user` parameter.
          type:
            - boolean
            - 'null'
        custom_notification_max_delays:
          description: Number of deferral chances before patching is forced.
          type: integer
          format: int64
        custom_notification_patch_message:
          description: Message to display before a non-rebooting patch policy executes on a Windows device. Maximum 125 characters
          type: string
          maxLength: 125
        custom_notification_reboot_message:
          description: Message to display before a rebooting patch policy executes on a Windows device. Reboot will follow patching actions. Maximum 125 characters
          type: string
          maxLength: 125
        custom_notification_deferment_periods:
          description: 'Integer array: Deferral time periods (hours) that users can choose from. Include up to 3. All 3 must be distinct with a maximum of 24'
          type: array
          items:
            type: integer
          default:
            - 1
            - 4
            - 8
        custom_notification_patch_message_mac:
          description: Message to display before a non-rebooting patch policy executes on a macOS device. Maximum 70 characters
          type: string
          maxLength: 70
        custom_notification_reboot_message_mac:
          description: The custom reboot message for macOS, which overrides `custom_pending_reboot_notification_message` string, if provided.
          type: string
          maxLength: 70
        custom_pending_reboot_notification_message:
          description: Custom reboot message.
          type: string
          maxLength: 125
        notify_user_message_timeout:
          description: 'The amount of time a patch notification appears before timing out and closing. Min: 15 min. Max: 480 min. Default is 15 minutes.'
          type: integer
          default: 15
          maximum: 480
          minimum: 15
        notify_user_auto_deferral_enabled:
          description: If a patch notification times out, apply the highest configured patch deferral.
          type: boolean
        notify_deferred_reboot_user_message_timeout:
          description: 'The amount of time a deferrable reboot notification message appears before timing out and closing. Min: 15 min. Max: 480 min. Default is 15 minutes.'
          type: integer
          default: 15
          maximum: 480
          minimum: 15
        notify_deferred_reboot_user_auto_deferral_enabled:
          description: If a reboot notification times out, apply the highest configured reboot deferral.
          type: boolean
        custom_pending_reboot_notification_max_delays:
          description: Maximum number of times a user is allowed to defer the reboot. The default is 0.
          type: integer
          format: int64
          default: 0
        custom_pending_reboot_notification_message_mac:
          description: Message to display before a rebooting patch policy executes on a macOS device. Reboot will follow patching actions. Maximum 70 characters
          type: string
          maxLength: 70
        custom_pending_reboot_notification_deferment_periods:
          description: 'The time period options available to defer a reboot for each deferral selection. Default values: 1, 4, 8'
          type: array
          items:
            type: integer
          default:
            - 1
            - 4
            - 8
        use_scheduled_timezone:
          description: Determines whether to use UTC or the local time of the device for policy execution. `true` = policy executes at the scheduled time in UTC, `false` = policy executes at the scheduled time using the device's local time.
          type: boolean
      required:
        - auto_patch
        - patch_rule
        - auto_reboot
    PatchAdvancedPolicyConfiguration:
      type: object
      properties:
        auto_patch:
          description: Enable or Disable automatic execution of the policy.
          type: boolean
        missed_patch_window:
          description: Enable or Disable the Missed Patch Window setting.
          type: boolean
        patch_rule:
          description: Use only with the `patch` policy type.
          type: string
          default: advanced
          enum:
            - all
            - filter
            - manual
            - advanced
          x-enumDescriptions:
            all: Patch All
            filter: Patch All Except or Patch Only or Patch by Severity
            manual: Manually Approve
            advanced: Advanced Patch Policy
        auto_reboot:
          description: Enable or Disable automatic reboots following policy execution.
          type: boolean
        device_filters_enabled:
          description: Enable or disable Device Filters.
          type: boolean
          default: false
        device_filters:
          $ref: '#/components/schemas/DeviceFilters'
        secrets:
          description: This object can optionally contain multiple objects containing information about secrets associated with the policy.
          type: object
          patternProperties:
            ^[a-zA-Z][a-zA-Z0-9_]+:
              type: object
              properties:
                id:
                  type: string
                  format: uuid
                organizationId:
                  type: string
                  format: uuid
                name:
                  type: string
                description:
                  type: string
                numPolicies:
                  type: integer
                createdAt:
                  type: string
                  format: date-time
        advanced_filter:
          description: Object array. Include one object per advanced filter line. See [Policy and Device Filters, and Scheduling - Advanced Filters](/developer-portal/policy_filters_schedule/#advanced-filters)
          type: array
          items:
            type: object
            properties:
              left:
                type: string
                enum:
                  - display-name
                  - severity
                  - patch-source
                  - patch-os
                  - type
                  - patch-days-old
                x-enumDescriptions:
                  display-name: Filter by display name
                  severity: Filter by severity
                  patch-source: Filter by patch source
                  patch-os: Filter by patch OS
                  type: Filter by type
                  patch-days-old: Filter by patch age
              right:
                oneOf:
                  - type: string
                    enum:
                      - text string
                      - no_known_cves
                      - unknown
                      - none
                      - low
                      - medium
                      - high
                      - critical
                      - windowsupdate
                      - opera
                      - mozilla
                      - adobe
                      - oracle
                      - apple
                      - microsoft
                      - windows
                      - mac
                      - linux
                      - upgrades
                      - updates
                      - update-rollups
                      - service-packs
                      - security-updates
                      - tools
                      - guidance
                      - feature-packs
                      - developer-kits
                      - definition-updates
                      - critical-updates
                      - connectors
                      - application
                    x-enumDescriptions:
                      text string: Enter a text string. Use to filter by Display Name.
                      no_known_cves: Use to filter by Severity
                      unknown: Use to filter by Severity
                      none: Use to filter by Severity
                      low: Use to filter by Severity
                      medium: Use to filter by Severity
                      high: Use to filter by Severity
                      critical: Use to filter by Severity
                      windowsupdate: Use to filter by Patch Source
                      opera: Use to filter by Patch Source
                      mozilla: Use to filter by Patch Source
                      adobe: Use to filter by Patch Source
                      oracle: Use to filter by Patch Source
                      apple: Use to filter by Patch Source
                      microsoft: Use to filter by Patch Source
                      windows: Use to filter by Patch OS
                      mac: Use to filter by Patch OS
                      linux: Use to filter by Patch OS
                      upgrades: Use to filter by Type
                      updates: Use to filter by Type
                      update-rollups: Use to filter by Type
                      service-packs: Use to filter by Type
                      security-updates: Use to filter by Type
                      tools: Use to filter by Type
                      guidance: Use to filter by Type
                      feature-packs: Use to filter by Type
                      developer-kits: Use to filter by Type
                      definition-updates: Use to filter by Type
                      critical-updates: Use to filter by Type
                      connectors: Use to filter by Type
                      application: Use to filter by Type
                  - type: integer
                    description: Use with `patch-days-old`
                    minimum: 1
                    maximum: 180
              condition:
                type: string
                enum:
                  - contains
                  - does-not-contain
                  - is
                  - is-not
                  - less-than
                  - less-than-or-equal-to
                  - greater-than
                  - greater-than-or-equal-to
                x-enumDescriptions:
                  contains: Use with `display-name`
                  does-not-contain: Use with `display-name`
                  is: Use with `severity`, `patch-source`, `patch-os`, `type`, `patch-days-old`
                  is-not: Use with `severity`, `patch-source`, `patch-os`, `type`, `patch-days-old`
                  less-than: Use with `patch-days-old`
                  less-than-or-equal-to: Use with `severity`, `patch-days-old`
                  greater-than-or-equal-to: Use with `severity`, `patch-days-old`
        include_optional:
          description: Enable or disable inclusion of optional Windows patches for this policy **NOTE:** Will default to false if not included.
          type: boolean
          default: false
        notify_user:
          description: Display notification 15 minutes before patching.
          type: boolean
        notify_reboot_user:
          description: Display modified notification 15 minutes before patching. This message should inform the user that a reboot will follow patching actions.
          type: boolean
        notify_deferred_reboot_user:
          description: If `true`, this shows a post-install reboot notification message, if `notify_reboot_deferred` is also `true`. If `notify_reboot_deferred` is `false` or `null`, this will sync with the existing `notify_reboot_user` parameter.
          type:
            - boolean
            - 'null'
        notify_deferred_reboot_user_timeout:
          description: 'The amount of time a deferrable reboot notification message appears before timing out and closing. Min: 15 min. Max: 480 min. Default is 15 minutes.'
          type: integer
          default: 15
          maximum: 480
          minimum: 15
        custom_notification_patch_message:
          description: Message to display before a non-rebooting patch policy executes on a Windows device. Maximum 125 characters
          type: string
          maxLength: 125
        custom_notification_patch_message_mac:
          description: Message to display before a non-rebooting patch policy executes on a macOS device. Maximum 70 characters
          type: string
          maxLength: 70
        custom_notification_reboot_message:
          description: Message to display before a rebooting patch policy executes on a Windows device. Reboot will follow patching actions. Maximum 125 characters
          type: string
          maxLength: 125
        custom_notification_reboot_message_mac:
          description: Message to display before a rebooting patch policy executes on a macOS device. Reboot will follow patching actions. Maximum 70 characters
          type: string
          maxLength: 70
        custom_notification_max_delays:
          description: Maximum number of times a user is allowed to defer the reboot. The default is 0.
          type: integer
          format: int64
          default: 0
        custom_notification_deferment_periods:
          description: 'Integer array: Deferral time periods (hours) that users can choose from. Include up to 3. All 3 must be distinct with a maximum of 24. Default values: 1, 4, 8'
          type: array
          items:
            type: integer
            format: int64
          default:
            - 1
            - 4
            - 8
        custom_pending_reboot_notification_message:
          description: Custom reboot message.
          type: string
          maxLength: 125
        custom_pending_reboot_notification_message_mac:
          description: The custom reboot message for macOS, which overrides `custom_pending_reboot_notification_message` string, if provided.
          type: string
          maxLength: 70
        custom_pending_reboot_notification_max_delays:
          description: Maximum number of times a user is allowed to defer the reboot. The default is 0.
          type: integer
          format: int64
          default: 0
        custom_pending_reboot_notification_deferment_periods:
          description: 'The time period options available to defer a reboot for each deferral selection. Default values: 1, 4, 8'
          type: array
          items:
            type: integer
            format: int64
          default:
            - 1
            - 4
            - 8
        notify_user_message_timeout:
          description: 'The amount of time a patch notification appears before timing out and closing. Min: 15 min. Max: 480 min. Default is 15 minutes.'
          type: integer
          default: 15
          maximum: 480
          minimum: 15
        notify_deferred_reboot_user_message_timeout:
          description: 'The amount of time a deferrable reboot notification message appears before timing out and closing. Min: 15 min. Max: 480 min. Default is 15 minutes.'
          type: integer
          default: 15
          maximum: 480
          minimum: 15
        notify_user_auto_deferral_enabled:
          description: If a patch notification times out, apply the highest configured patch deferral.
          type: boolean
          default: false
        notify_deferred_reboot_user_auto_deferral_enabled:
          description: If a reboot notification times out, apply the highest configured reboot deferral.
          type: boolean
          default: false
        use_scheduled_timezone:
          description: If `true`, the policy will execute at the scheduled time in the timezone specified in the `schedule_timezone` field. If `false`, the policy will execute at the scheduled time in the timezone of the server.
          type: boolean
      examples:
        - auto_patch: true
          auto_reboot: true
          notify_user: true
          missed_patch_window: true
          advanced_filter:
            - left: severity
              condition: is
              right: critical
            - left: patch-os
              condition: is
              right: windows
          patch_rule: advanced
          device_filters_enabled: true
          device_filters:
            - field: tag
              op: in
              value:
                - Windows
                - Win10
          include_optional: true
          notify_reboot_user: true
          notify_deferred_reboot_user: true
          custom_notification_patch_message: Necessary Windows updates are about to be installed!
          custom_notification_patch_message_mac: Necessary Mac updates are about to be installed!
          custom_notification_reboot_message: Necessary Windows updates are about to be installed! Reboot Needed!
          custom_notification_reboot_message_mac: Necessary Mac updates are about to be installed! Reboot Needed!
          custom_notification_max_delays: 0
          custom_notification_deferment_periods:
            - 1
            - 4
            - 8
          custom_pending_reboot_notification_message: Your computer needs to restart to finish installing updates!
          custom_pending_reboot_notification_message_mac: Your Mac needs to restart to finish installing updates!
          custom_pending_reboot_notification_max_delays: 0
          custom_pending_reboot_notification_deferment_periods:
            - 2
            - 4
            - 6
          notify_user_message_timeout: 15
          notify_deferred_reboot_user_timeout: 15
          notify_user_auto_deferral_enabled: false
          notify_deferred_reboot_user_auto_deferral_enabled: false
          use_scheduled_timezone: false
      required:
        - auto_patch
        - auto_reboot
    PatchPolicy:
      description: Patch Policy object
      type: object
      properties:
        id:
          description: Policy ID
          type: integer
          format: int64
        uuid:
          description: Policy UUID
          type: string
          format: uuid
        name:
          description: The name of the policy
          type: string
        policy_type_name:
          description: The name of the type of policy you are creating. Optional when updating an existing policy.
          type: string
          enum:
            - patch
            - custom
            - required_software
          x-enumDescriptions:
            patch: Patch Policy
            custom: Worklet Policy
            required_software: Required Software Policy
        organization_id:
          description: Organization ID for the specified policy
          type: integer
          format: int64
        configuration:
          description: The policy configuration. This varies depending on the type of policy being used.
          discriminator:
            propertyName: patch_rule
            mapping:
              all: '#/components/schemas/PatchPolicyConfiguration'
              filter: '#/components/schemas/PatchFilterPolicyConfiguration'
              manual: '#/components/schemas/PatchPolicyConfiguration'
              advanced: '#/components/schemas/PatchAdvancedPolicyConfiguration'
          oneOf:
            - $ref: '#/components/schemas/PatchPolicyConfiguration'
            - $ref: '#/components/schemas/PatchFilterPolicyConfiguration'
            - $ref: '#/components/schemas/PatchAdvancedPolicyConfiguration'
        schedule_days:
          description: Decimal value of binary day schedule. See [Policy and Device Filters, and Scheduling - Example Days per Week](/developer-portal/policy_filters_schedule/#example-days-per-week).
          type: integer
          format: int64
        schedule_weeks_of_month:
          description: Decimal value of binary week schedule. See [Policy and Device Filters, and Scheduling - Example Weeks per Month](/developer-portal/policy_filters_schedule/#example-weeks-per-month).
          type: integer
          format: int64
        schedule_months:
          description: Decimal value of binary month schedule. See [Policy and Device Filters, and Scheduling - Example Months per Year](/developer-portal/policy_filters_schedule/#example-months-per-year).
          type: integer
          format: int64
        schedule_time:
          description: 'Scheduled time for automatic policy execution. Format: `"hh:mm"`'
          type: string
        scheduled_timezone:
          description: 'Define the UTC offset for a policy where UTC is used for the scheduled start time. This is required when `use_scheduled_timezone` is `true`. Format: `"UTC+0000"`'
          type: string
        use_scheduled_timezone:
          description: Determines whether to use UTC or the local time of the device for policy execution. `true` = policy executes at the scheduled time in UTC, `false` = policy executes at the scheduled time using the device's local time.
          type: boolean
        server_groups:
          description: An array containing a list of the server group IDs to be affected by the policy.
          type: array
          items:
            type: integer
        notes:
          description: Any notes associated with the policy.
          type: string
        create_time:
          description: The date-time when the policy was created
          type: string
          format: date-time
        server_count:
          type: integer
          format: int64
        status:
          type: string
          enum:
            - active
            - inactive
          x-enumDescriptions:
            active: Active
            inactive: Inactive
        community_worklet_id:
          type:
            - integer
            - 'null'
          format: int64
        community_worklet_uuid:
          type:
            - string
            - 'null'
          format: uuid
        policy_template_id:
          type:
            - integer
            - 'null'
          format: int64
      required:
        - name
        - organization_id
        - policy_type_name
        - schedule_days
        - schedule_time
        - use_scheduled_timezone
        - configuration
        - notes
        - server_groups
      title: Patch Policy object
    CustomPolicyConfiguration:
      type: object
      properties:
        secrets:
          description: This object can optionally contain multiple objects containing information about secrets associated with the policy.
          type: object
          patternProperties:
            ^[a-zA-Z][a-zA-Z0-9_]+:
              type: object
              properties:
                id:
                  type: string
                  format: uuid
                organizationId:
                  type: string
                  format: uuid
                name:
                  type: string
                description:
                  type: string
                numPolicies:
                  type: integer
                createdAt:
                  type: string
                  format: date-time
        os_family:
          description: Define the OS family of the worklet policy
          type: string
          enum:
            - Windows
            - Mac
            - Linux
        auto_reboot:
          description: Enable or Disable automatic reboots following policy execution.
          type: boolean
        device_filters:
          $ref: '#/components/schemas/DeviceFilters'
        evaluation_code:
          description: The evaluation code of the worklet.
          type:
            - string
            - 'null'
        remediation_code:
          description: The remediation code of the worklet.
          type:
            - string
            - 'null'
        installation_code:
          description: The installation code of the worklet.
          type:
            - string
            - 'null'
        notify_reboot_user:
          description: Display modified notification 15 minutes before patching. This message should inform the user that a reboot will follow patching actions.
          type: boolean
        use_scheduled_timezone:
          description: Determines whether to use UTC or the local time of the device for policy execution. `true` = policy executes at the scheduled time in UTC, `false` = policy executes at the scheduled time using the device's local time.
          type: boolean
        refresh_before_remediation:
          description: Determines whether to rescan the device before the policy executes.
          type: boolean
        notify_deferred_reboot_user:
          description: If `true`, this shows a post-install reboot notification message, if `notify_reboot_deferred` is also `true`. If `notify_reboot_deferred` is `false` or `null`, this will sync with the existing `notify_reboot_user` parameter.
          type: boolean
        custom_notification_max_delays:
          description: Maximum number of times a user is allowed to defer the reboot. The default is 0.
          type: integer
        pending_reboot_deferral_enabled:
          description: Determines whether deferrals are enabled or disabled for pending reboots.
          type: boolean
        custom_pending_reboot_notification_message:
          description: Custom reboot message.
          type: string
          maxLength: 125
        notify_deferred_reboot_user_message_timeout:
          description: 'The amount of time a deferrable reboot notification message appears before timing out and closing. Min: 15 min. Max: 480 min. Default is 15 minutes.'
          type: integer
          default: 15
          maximum: 480
          minimum: 15
        custom_pending_reboot_notification_max_delays:
          description: Maximum number of times a user is allowed to defer the reboot. The default is 0.
          type: integer
          format: int64
          default: 0
        custom_pending_reboot_notification_message_mac:
          description: The custom reboot message for macOS, which overrides `custom_pending_reboot_notification_message` string, if provided.
          type: string
          maxLength: 70
        notify_deferred_reboot_user_auto_deferral_enabled:
          description: If a reboot notification times out, apply the highest configured reboot deferral.
          type: boolean
          default: false
        custom_pending_reboot_notification_deferment_periods:
          description: 'The time period options available to defer a reboot for each deferral selection. Default values: 1, 4, 8'
          type: array
          items:
            type: integer
          default:
            - 1
            - 4
            - 8
      required:
        - auto_reboot
    CustomPolicy:
      description: Custom (Worklet) Policy object
      type: object
      properties:
        id:
          description: Policy ID
          type: integer
          format: int64
        name:
          type: string
        organization_id:
          description: Organization ID for the specified policy
          type: integer
          format: int64
        policy_type_name:
          type: string
          default: custom
          enum:
            - patch
            - custom
            - required_software
          x-enumDescriptions:
            patch: Patch Policy
            custom: Worklet Policy
            required_software: Required Software Policy
        configuration:
          $ref: '#/components/schemas/CustomPolicyConfiguration'
        schedule_days:
          description: Decimal value of binary day schedule. See [Policy and Device Filters, and Scheduling - Example Days per Week](/developer-portal/policy_filters_schedule/#example-days-per-week).
          type: integer
          format: int64
        schedule_weeks_of_month:
          description: Decimal value of binary week schedule. See [Policy and Device Filters, and Scheduling - Example Weeks per Month](/developer-portal/policy_filters_schedule/#example-weeks-per-month).
          type: integer
          format: int64
        schedule_months:
          description: Decimal value of binary month schedule. See [Policy and Device Filters, and Scheduling - Example Months per Year](/developer-portal/policy_filters_schedule/#example-months-per-year).
          type: integer
          format: int64
        schedule_time:
          description: 'Scheduled time for automatic policy execution. Format: `"hh:mm"`'
          type: string
        notes:
          description: Any notes associated with the policy.
          type: string
        create_time:
          description: The date & time that the policy was created.
          type: string
          format: date-time
        next_remediation:
          description: The date & time that the policy is scheduled to execute next, or `null` if not scheduled.
          type:
            - string
            - 'null'
        server_count:
          description: The number of devices that the policy will execute on.
          type: integer
        community_worklet_id:
          description: The id of the community worklet associated with the policy, or `null` if none.
          type:
            - integer
            - 'null'
        community_worklet_uuid:
          description: The uuid of the community worklet associated with the policy, or `null` if none.
          type:
            - string
            - 'null'
          format: uuid
        policy_template_id:
          description: The id of the policy template, or `null` if none.
          type:
            - integer
            - 'null'
        server_groups:
          description: The server groups that the policy is associated with.
          type: array
          items:
            type: integer
      required:
        - name
        - organization_id
        - policy_type_name
        - schedule_days
        - schedule_time
        - use_scheduled_timezone
        - configuration
        - notes
        - server_groups
      title: Custom (Worklet) Policy
    RequiredSoftwarePolicyConfiguration:
      type: object
      properties:
        device_filters_enabled:
          description: Enable or disable Device Filters.
          type: boolean
          default: false
        device_filters:
          $ref: '#/components/schemas/DeviceFilters'
        secrets:
          description: This object can optionally contain multiple objects containing information about secrets associated with the policy.
          type: object
          patternProperties:
            ^[a-zA-Z][a-zA-Z0-9_]+:
              type: object
              properties:
                id:
                  type: string
                  format: uuid
                organizationId:
                  type: string
                  format: uuid
                name:
                  type: string
                description:
                  type: string
                numPolicies:
                  type: integer
                createdAt:
                  type: string
                  format: date-time
        missed_patch_window:
          description: Enable or Disable Missed Patch Window setting
          type: boolean
        os_family:
          type: string
        package_name:
          type: string
        package_version:
          type: string
        installation_code:
          type: string
        use_scheduled_timezone:
          description: Determines whether to use UTC or the local time of the device for policy execution. `true` = policy executes at the scheduled time in UTC, `false` = policy executes at the scheduled time in the local time of the device.
          type: boolean
      required:
        - package_name
        - package_version
        - installation_code
    RequiredSoftwarePolicy:
      description: 'Required Software Policy. *NOTE: To upload installation file, see [/policies/{id}/files](/openapi/axconsole/operation/uploadPolicyFile)*'
      type: object
      properties:
        id:
          description: Policy ID
          type: integer
          format: int64
        name:
          description: The name of the policy.
          type: string
        organization_id:
          description: Organization ID for the specified policy
          type: integer
          format: int64
        policy_type_name:
          description: The name of the type of policy you are creating. Optional when updating an existing policy.
          type: string
          default: required_software
          enum:
            - patch
            - custom
            - required_software
          x-enumDescriptions:
            patch: Patch Policy
            custom: Worklet Policy
            required_software: Required Software Policy
        configuration:
          $ref: '#/components/schemas/RequiredSoftwarePolicyConfiguration'
        schedule_days:
          description: Decimal value of binary day schedule. See [Policy and Device Filters, and Scheduling - Example Days per Week](/developer-portal/policy_filters_schedule/#example-days-per-week).
          type: integer
          format: int64
        schedule_weeks_of_month:
          description: Decimal value of binary week schedule. See [Policy and Device Filters, and Scheduling - Example Weeks per Month](/developer-portal/policy_filters_schedule/#example-weeks-per-month).
          type: integer
          format: int64
        schedule_months:
          description: Decimal value of binary month schedule. See [Policy and Device Filters, and Scheduling - Example Months per Year](/developer-portal/policy_filters_schedule/#example-months-per-year).
          type: integer
          format: int64
        schedule_time:
          description: 'Scheduled time for automatic policy execution. Format: `"hh:mm"`'
          type: string
        scheduled_timezone:
          description: 'Define the UTC offset for a policy where UTC is used for the scheduled start time. This is required when `use_scheduled_timezone` is `true`. Format: `"UTC+0000"`'
          type: string
        use_scheduled_timezone:
          description: Determines whether to use UTC or the local time of the device for policy execution. `true` = policy executes at the scheduled time in UTC, `false` = policy executes at the scheduled time using the device's local time.
          type: boolean
        notify_user:
          description: Determines whether to notify the user when the policy is executed. `true` = notify the user, `false` = do not notify the user.
          type: boolean
        server_groups:
          type: array
          items:
            type: integer
        notes:
          description: Any notes associated with the policy.
          type: string
      examples:
        - name: Test RequiredSoftwarePolicy
          policy_type_name: required_software
          organization_id: 9999
          schedule_days: 42
          schedule_weeks_of_month: 20
          schedule_months: 4680
          schedule_time: '12:00'
          use_scheduled_timezone: true
          configuration:
            os_family: Windows
            package_name: NotePadPlusPlus
            package_version: 7.8.4
            installation_code: .\npp.7.8.4.Installer.x64.exe /S
          notify_user: true
          server_groups:
            - 250624
            - 90125
          notes: Here are some notes
      required:
        - name
        - organization_id
        - policy_type_name
        - schedule_days
        - schedule_time
        - use_scheduled_timezone
        - configuration
        - notes
        - server_groups
      title: Required Software Policy
    ServerWithPolicies:
      type: object
      properties:
        id:
          type: integer
          format: int64
        os_version_id:
          type: integer
          format: int64
        server_group_id:
          type: integer
          format: int64
        organization_id:
          type: integer
          format: int64
        uuid:
          type: string
          format: uuid
        name:
          type: string
        instance_id:
          type: string
        refresh_interval:
          type: integer
          format: int64
          maximum: 1440
          minimum: 240
        last_update_time:
          type: string
        last_refresh_time:
          type: string
        uptime:
          description: The uptime of the device, measured in seconds.
          type: integer
          format: int64
        needs_reboot:
          type: boolean
        timezone:
          type: string
        tags:
          type: array
          items:
            type: string
        deleted:
          type: boolean
        create_time:
          type: string
          format: date-time
        os_version:
          type: string
        os_name:
          type: string
        os_family:
          type: string
        ip_addrs:
          type: array
          items:
            type: string
        ip_addrs_private:
          type: array
          items:
            type: string
        hostname:
          type: string
        patches:
          type: integer
          format: int64
        details:
          $ref: '#/components/schemas/ServerDetail'
        agent_version:
          type: string
        custom_name:
          type: string
        exception:
          type: boolean
        total_count:
          type: integer
          format: int64
        server_policies:
          type: array
          items:
            oneOf:
              - $ref: '#/components/schemas/PatchPolicy'
              - $ref: '#/components/schemas/CustomPolicy'
              - $ref: '#/components/schemas/RequiredSoftwarePolicy'
        policy_status:
          type: array
          items:
            type: object
            properties:
              id:
                type: integer
                format: int64
              organization_id:
                type: integer
                format: int64
              policy_id:
                type: integer
                format: int64
              server_id:
                type: integer
                format: int64
              policy_name:
                type: string
              policy_type_name:
                type: string
                enum:
                  - patch
                  - custom
                  - required_software
                x-enumDescriptions:
                  patch: Patch Policy
                  custom: Worklet Policy
                  required_software: Required Software Policy
              status:
                type: integer
                description: Device Status. 0 = `STATUS_NEEDS_REMEDIATION`, 1 = `STATUS_UP_TO_DATE`, 2 = `STATUS_PENDING`
                format: int64
              result:
                type: string
              create_time:
                type: string
              next_remediation:
                type:
                  - string
                  - 'null'
                format: date-time
        last_scan_failed:
          type: boolean
        pending:
          type: boolean
        compliant:
          type: boolean
        display_name:
          type: string
        commands:
          type: array
          items:
            $ref: '#/components/schemas/Command'
        pending_patches:
          type: integer
          format: int64
        connected:
          type: boolean
        last_process_time:
          type: string
        next_patch_time:
          type: string
        notification_count:
          type: integer
        reboot_notification_count:
          type: integer
        patch_deferral_count:
          type: integer
        is_delayed_by_notification:
          type: boolean
        reboot_is_delayed_by_notification:
          type: boolean
        is_delayed_by_user:
          type: boolean
        reboot_is_delayed_by_user:
          type: boolean
        last_disconnect_time:
          type: string
          format: date-time
        needs_attention:
          type: boolean
        serial_number:
          type: string
        status:
          $ref: '#/components/schemas/DeviceStatus'
        last_logged_in_user:
          type: string
    DeviceUpdateRequest:
      description: Device update
      type: object
      properties:
        server_group_id:
          description: Server Group ID for the specified group.
          type: integer
        ip_addrs:
          description: Server IP addresses.
          type: array
          items:
            type: string
        exception:
          description: Use the exception property to exclude the device from reports and statistics.
          type: boolean
        tags:
          description: List of tags.
          type: array
          items:
            type: string
        custom_name:
          description: Custom name that will display in the console instead of the hostname.
          type: string
      required:
        - server_group_id
        - exception
    UpdateMultipleDevices:
      description: Update devices
      type: object
      properties:
        devices:
          description: List of device (server) IDs
          type: array
          items:
            type: integer
          maxItems: 500
          minItems: 1
        actions:
          description: Array of different actions to take on each device
          type: array
          items:
            type: object
            properties:
              attribute:
                description: Name of the attribute
                type: string
                enum:
                  - tags
              action:
                description: What action should be taken
                type: string
                enum:
                  - apply
                  - remove
              value:
                description: The value to use for the action
                type: array
                items:
                  type: string
      required:
        - devices
        - actions
    Batch:
      type: object
      properties:
        id:
          type: string
          examples:
            - 942b355c-1fdd-4465-af21-0e6c206b35f3
        total_jobs:
          type: integer
        pending_jobs:
          type: integer
        processed_jobs:
          type: integer
        progress:
          type: integer
        failed_jobs:
          type: integer
        created_at:
          type: string
          format: date-time
        cancelled_at:
          type: string
          format: date-time
        finished_at:
          type: string
          format: date-time
    Packages:
      type: object
      properties:
        id:
          type: integer
          format: int64
        server_id:
          type: integer
          format: int64
        package_id:
          type: integer
          format: int64
        software_id:
          type: integer
          format: int64
        installed:
          type: boolean
        ignored:
          type: boolean
        deferred_until:
          type:
            - string
            - 'null'
          format: date-time
        name:
          type: string
        display_name:
          type: string
        version:
          type: string
        repo:
          type: string
        group_ignored:
          type: boolean
        group_deferred_until:
          type:
            - string
            - 'null'
          format: date-time
        cves:
          type: array
          items:
            type: string
        cve_score:
          type:
            - string
            - 'null'
        severity:
          type:
            - string
            - 'null'
          enum:
            - no_known_cves
            - none
            - unknown
            - low
            - medium
            - high
            - critical
        package_version_id:
          type: integer
          format: int64
        os_name:
          type: string
        os_version:
          type: string
        os_version_id:
          type: integer
          format: int64
        create_time:
          type: string
          format: date-time
        requires_reboot:
          type: boolean
        patch_classification_category_id:
          type:
            - integer
            - 'null'
          format: int64
        patch_scope:
          type:
            - string
            - 'null'
        is_uninstallable:
          type: boolean
        secondary_id:
          type: string
        is_managed:
          type: boolean
        impact:
          type: integer
          format: int64
        organization_id:
          type: integer
          format: int64
        agent_severity:
          type:
            - string
            - 'null'
          enum:
            - no_known_cves
            - none
            - unknown
            - low
            - medium
            - high
            - critical
    IssueCommand:
      type: object
      properties:
        command_type_name:
          type: string
          enum:
            - GetOS
            - InstallUpdate
            - InstallAllUpdates
            - Reboot
          examples:
            - GetOS
          x-enumDescriptions:
            GetOS: Triggers a device scan.
            InstallUpdate: Installs a specific patch.
            InstallAllUpdates: 'Installs all available patches. **NOTE: This ignores any Policy Filters!**'
            Reboot: Forces a reboot.
        args:
          description: Only needed for `InstallUpdate`. Includes the name of the patches to install.
          type: string
          examples:
            - KB12345 KB67890
      required:
        - command_type_name
    WsusConfig:
      type:
        - object
        - 'null'
      properties:
        id:
          type: integer
          format: int64
        server_group_id:
          type: integer
          format: int64
        is_managed:
          type:
            - boolean
            - 'null'
        server_url:
          type:
            - string
            - 'null'
        created_at:
          type: string
        updated_at:
          type: string
    ServerGroup:
      type: object
      properties:
        id:
          type: integer
        organization_id:
          type: integer
          format: int64
        name:
          type: string
        refresh_interval:
          type: integer
          format: int64
          maximum: 1440
          minimum: 240
        parent_server_group_id:
          type: integer
        ui_color:
          type: string
        notes:
          type: string
        enable_os_auto_update:
          type:
            - boolean
            - 'null'
        server_count:
          type: integer
        wsus_config:
          $ref: '#/components/schemas/WsusConfig'
        policies:
          type: array
          items:
            type: integer
    ServerGroupCreateOrUpdateRequest:
      type: object
      properties:
        name:
          description: Name of the group
          type: string
        refresh_interval:
          description: 'Frequency of device refreshes (scans) in minutes. Minimum: 240 Maximum: 1440'
          type: integer
          maximum: 1440
          minimum: 240
        parent_server_group_id:
          description: ID of the parent group. Use the organization's Default Group ID to make this a top-level group. See [About Automox API - Default Group ID](/developer-portal#Default-Group-ID)
          type: integer
        ui_color:
          description: 'The highlight color for the group. Primarily used on the System Management view. Format: #059F1D'
          type: string
        notes:
          description: Use to define notes that are displayed while editing the policy
          type: string
        enable_os_auto_update:
          description: 'Enforce automatic update settings Options: `null`: Keep Device''s Setting. `true`: Enable OS automatic updates. `false`: Disable OS automatic updates.'
          type:
            - boolean
            - 'null'
        enable_wsus:
          description: 'Enforce WSUS settings for Windows devices. Options: `null`: Keep Device''s Setting. `true`: force WSUS. `false`: force Windows Update.'
          type:
            - boolean
            - 'null'
        wsus_server:
          description: 'WSUS server address. Use with `enable_wsus`. Format: `"https://myserver.com:8530"`'
          type: string
        policies:
          type: array
          items:
            type: integer
      required:
        - name
        - refresh_interval
        - parent_server_group_id
    Organization:
      type: object
      properties:
        id:
          description: Organization ID
          type: integer
          format: int64
        name:
          description: Organization name
          type: string
        create_time:
          type: string
          format: date-time
        access_key:
          type: string
        trial_end_time:
          type: string
          format: date-time
        tier:
          type: string
          enum:
            - trial
            - freemon
            - disabled
            - patch
            - manage
            - tier3
            - patch_os
            - essentials
            - enterprise
        parent_id:
          type: integer
          format: int64
        device_limit:
          description: If your organization has a server limit (you will have contacted support for this), then this is the value for your organization. Otherwise, null.
          type:
            - integer
            - 'null'
          format: int64
        device_count:
          description: The current number of installed devices for your organization
          type:
            - integer
            - 'null'
          format: int64
        uuid:
          description: Organization UUID
          type: string
          format: uuid
        soft_device_limit:
          type:
            - integer
            - 'null'
          format: int64
        metadata:
          type: object
          properties:
            patchServersDone:
              type: boolean
    ApiKey:
      type: object
      properties:
        id:
          description: API key ID
          type: integer
          format: int64
        name:
          description: The username of the user
          type: string
        is_enabled:
          description: Whether the API key is enabled or disabled. True = enabled, False = disabled
          type: boolean
        expires_at:
          description: The date-time when the API key expires
          type: string
          format: date-time
        created_at:
          description: The date-time when the API key was created
          type: string
          format: date-time
        user:
          type: object
          properties:
            id:
              description: User ID
              type: integer
              format: int64
            firstname:
              description: The user's first name
              type: string
            lastname:
              description: The user's last name
              type: string
            email:
              description: The user's email address
              type: string
              format: email
    PatchPolicyRequest:
      description: Patch Policy object
      type: object
      properties:
        id:
          description: Policy ID
          type: integer
          format: int64
        organization_id:
          description: Organization ID for the specified policy
          type: integer
          format: int64
        name:
          description: The name of the policy
          type: string
        policy_type_name:
          description: The name of the type of policy you are creating. Optional when updating an existing policy.
          type: string
          enum:
            - patch
            - custom
            - required_software
          x-enumDescriptions:
            patch: Patch Policy
            custom: Worklet Policy
            required_software: Required Software Policy
        configuration:
          description: The policy configuration. This varies depending on the type of policy being used.
          discriminator:
            propertyName: patch_rule
            mapping:
              all: '#/components/schemas/PatchPolicyConfiguration'
              filter: '#/components/schemas/PatchFilterPolicyConfiguration'
              manual: '#/components/schemas/PatchPolicyConfiguration'
              advanced: '#/components/schemas/PatchAdvancedPolicyConfiguration'
          oneOf:
            - $ref: '#/components/schemas/PatchPolicyConfiguration'
            - $ref: '#/components/schemas/PatchFilterPolicyConfiguration'
            - $ref: '#/components/schemas/PatchAdvancedPolicyConfiguration'
        schedule_days:
          description: Decimal value of binary day schedule. See [Policy and Device Filters, and Scheduling - Example Days per Week](/developer-portal/policy_filters_schedule/#example-days-per-week).
          type: integer
          format: int64
        schedule_weeks_of_month:
          description: Decimal value of binary week schedule. See [Policy and Device Filters, and Scheduling - Example Weeks per Month](/developer-portal/policy_filters_schedule/#example-weeks-per-month).
          type: integer
          format: int64
        schedule_months:
          description: Decimal value of binary month schedule. See [Policy and Device Filters, and Scheduling - Example Months per Year](/developer-portal/policy_filters_schedule/#example-months-per-year).
          type: integer
          format: int64
        schedule_time:
          description: 'Scheduled time for automatic policy execution. Format: `"hh:mm"`'
          type: string
        scheduled_timezone:
          description: 'Define the UTC offset for a policy where UTC is used for the scheduled start time. This is required when `use_scheduled_timezone` is `true`. Format: `"UTC+0000"`'
          type: string
        use_scheduled_timezone:
          description: Determines whether to use UTC or the local time of the device for policy execution. `true` = policy executes at the scheduled time in UTC, `false` = policy executes at the scheduled time using the device's local time.
          type: boolean
        server_groups:
          description: An array containing a list of the server group IDs to be affected by the policy.
          type: array
          items:
            type: integer
        notes:
          description: Any notes associated with the policy.
          type: string
      required:
        - name
        - organization_id
        - policy_type_name
        - schedule_days
        - schedule_time
        - use_scheduled_timezone
        - configuration
        - notes
        - server_groups
      title: Patch Policy object
    CustomPolicyRequest:
      description: Custom (Worklet) Policy object
      type: object
      properties:
        id:
          description: Policy ID
          type: integer
          format: int64
        name:
          type: string
        organization_id:
          description: Organization ID for the specified policy
          type: integer
          format: int64
        policy_type_name:
          type: string
          default: custom
          enum:
            - patch
            - custom
            - required_software
          x-enumDescriptions:
            patch: Patch Policy
            custom: Worklet Policy
            required_software: Required Software Policy
        configuration:
          $ref: '#/components/schemas/CustomPolicyConfiguration'
        schedule_days:
          description: Decimal value of binary day schedule. See [Policy and Device Filters, and Scheduling - Example Days per Week](/developer-portal/policy_filters_schedule/#example-days-per-week).
          type: integer
          format: int64
        schedule_weeks_of_month:
          description: Decimal value of binary week schedule. See [Policy and Device Filters, and Scheduling - Example Weeks per Month](/developer-portal/policy_filters_schedule/#example-weeks-per-month).
          type: integer
          format: int64
        schedule_months:
          description: Decimal value of binary month schedule. See [Policy and Device Filters, and Scheduling - Example Months per Year](/developer-portal/policy_filters_schedule/#example-months-per-year).
          type: integer
          format: int64
        schedule_time:
          description: 'Scheduled time for automatic policy execution. Format: `"hh:mm"`'
          type: string
        scheduled_timezone:
          description: 'Define the UTC offset for a policy where UTC is used for the scheduled start time. This is required when `use_scheduled_timezone` is `true`. Format: `"UTC+0000"`'
          type: string
        use_scheduled_timezone:
          description: Determines whether to use UTC or the local time of the device for policy execution. `true` = policy executes at the scheduled time in UTC, `false` = policy executes at the scheduled time using the device's local time.
          type: boolean
        server_groups:
          type: array
          items:
            type: integer
        notes:
          description: Any notes associated with the policy.
          type: string
      required:
        - name
        - organization_id
        - policy_type_name
        - schedule_days
        - schedule_time
        - use_scheduled_timezone
        - configuration
        - notes
        - server_groups
      title: Custom (Worklet) Policy
    RequiredSoftwarePolicyRequest:
      description: 'Required Software Policy. *NOTE: To upload installation file, see [/policies/{id}/files](/openapi/axconsole/operation/uploadPolicyFile)*'
      type: object
      properties:
        id:
          description: Policy ID
          type: integer
          format: int64
        name:
          description: The name of the policy.
          type: string
        organization_id:
          description: Organization ID for the specified policy
          type: integer
          format: int64
        policy_type_name:
          description: The name of the type of policy you are creating. Optional when updating an existing policy.
          type: string
          default: required_software
          enum:
            - patch
            - custom
            - required_software
          x-enumDescriptions:
            patch: Patch Policy
            custom: Worklet Policy
            required_software: Required Software Policy
        configuration:
          $ref: '#/components/schemas/RequiredSoftwarePolicyConfiguration'
        schedule_days:
          description: Decimal value of binary day schedule. See [Policy and Device Filters, and Scheduling - Example Days per Week](/developer-portal/policy_filters_schedule/#example-days-per-week).
          type: integer
          format: int64
        schedule_weeks_of_month:
          description: Decimal value of binary week schedule. See [Policy and Device Filters, and Scheduling - Example Weeks per Month](/developer-portal/policy_filters_schedule/#example-weeks-per-month).
          type: integer
          format: int64
        schedule_months:
          description: Decimal value of binary month schedule. See [Policy and Device Filters, and Scheduling - Example Months per Year](/developer-portal/policy_filters_schedule/#example-months-per-year).
          type: integer
          format: int64
        schedule_time:
          description: 'Scheduled time for automatic policy execution. Format: `"hh:mm"`'
          type: string
        scheduled_timezone:
          description: 'Define the UTC offset for a policy where UTC is used for the scheduled start time. This is required when `use_scheduled_timezone` is `true`. Format: `"UTC+0000"`'
          type: string
        use_scheduled_timezone:
          description: Determines whether to use UTC or the local time of the device for policy execution. `true` = policy executes at the scheduled time in UTC, `false` = policy executes at the scheduled time using the device's local time.
          type: boolean
        notify_user:
          description: Determines whether to notify the user when the policy is executed. `true` = notify the user, `false` = do not notify the user.
          type: boolean
        server_groups:
          type: array
          items:
            type: integer
        notes:
          description: Any notes associated with the policy.
          type: string
      examples:
        - name: Test RequiredSoftwarePolicy
          policy_type_name: required_software
          organization_id: 9999
          schedule_days: 42
          schedule_weeks_of_month: 20
          schedule_months: 4680
          schedule_time: '12:00'
          use_scheduled_timezone: true
          configuration:
            os_family: Windows
            package_name: NotePadPlusPlus
            package_version: 7.8.4
            installation_code: .\npp.7.8.4.Installer.x64.exe /S
          notify_user: true
          server_groups:
            - 250624
            - 90125
          notes: Here are some notes
      required:
        - name
        - organization_id
        - policy_type_name
        - schedule_days
        - schedule_time
        - use_scheduled_timezone
        - configuration
        - notes
        - server_groups
      title: Required Software Policy
    RequiredSoftwareUpload:
      type: object
      properties:
        file:
          type: string
          format: binary
      required:
        - file
    PolicyAction:
      type: object
      properties:
        action:
          description: Specify the type of action.
          type: string
          enum:
            - remediateAll
            - remediateServer
        serverId:
          description: The ID of the target device. Use with `remediateServer`
          type: integer
          format: int64
      required:
        - action
    PolicyDeviceFiltersPreview:
      type: object
      properties:
        device_filters:
          type: array
          items:
            type: object
            properties:
              field:
                type: string
                enum:
                  - tag
                  - hostname
                  - ip_addr
                  - os_family
                  - os_version_id
                  - organizational_unit
              op:
                type: string
                enum:
                  - in
                  - not_in
                  - like_any
                  - not_like_any
                x-enumDescriptions:
                  in: Field value in result. Corresponds to `is` on the console UI.
                  not_in: Field value not in result. Corresponds to `is not` on the console UI.
                  like_any: Field contains value. Corresponds to `contains` on the console UI.
                  not_like_any: Field does not contain value. Corresponds to `does not contain` on the console UI.
              value:
                type: array
                items:
                  oneOf:
                    - type: string
                    - type: boolean
                    - type: array
                      items:
                        oneOf:
                          - type: string
                          - type: integer
                    - type: number
        server_groups:
          type: array
          items:
            type: integer
    PolicyDeviceFiltersOutput:
      type: object
      properties:
        results:
          type: array
          items:
            type: object
            properties:
              id:
                type: integer
              uuid:
                type: string
                format: uuid
              name:
                type: string
              custom_name:
                type: string
              os_version:
                type: string
              os_family:
                type: string
              server_group:
                type: object
                properties:
                  id:
                    type: integer
                  organization_id:
                    type: integer
                  name:
                    type: string
                  refresh_interval:
                    type: integer
                    format: int64
                    maximum: 1440
                    minimum: 240
                  parent_server_group_id:
                    type: integer
              tags:
                type: array
                items:
                  type: string
              ip_addrs:
                type: array
                items:
                  type: string
              ip_addrs_private:
                type: array
                items:
                  type: string
              organizational_unit:
                type: array
                items:
                  type: string
        size:
          type: integer
    PolicyStats:
      type: object
      properties:
        compliant:
          type: integer
          format: int64
        noncompliant:
          type: integer
          format: int64
        organization_id:
          type: integer
          format: int64
        pending:
          type: integer
          format: int64
        policy_id:
          type: integer
          format: int64
        policy_name:
          type: string
        policy_type_name:
          type: string
          enum:
            - patch
            - custom
            - required_software
          x-enumDescriptions:
            patch: Patch Policy
            custom: Worklet Policy
            required_software: Required Software Policy
    Patches:
      type: object
      properties:
        id:
          type: integer
          format: int64
        packageVersionId:
          type: integer
          format: int64
        name:
          type: string
        severity:
          type:
            - string
            - 'null'
          enum:
            - no_known_cves
            - none
            - unknown
            - low
            - medium
            - high
            - critical
        cve:
          type: string
        createTime:
          type: string
          format: date-time
        patchTime:
          type: string
          format: date-time
        needsApproval:
          type: boolean
    PrePatch:
      type: object
      properties:
        prepatch:
          type: object
          properties:
            total:
              type: integer
              format: int64
            needsAttention:
              type: integer
              format: int64
            none:
              type: integer
              format: int64
            low:
              type: integer
              format: int64
            medium:
              type: integer
              format: int64
            high:
              type: integer
              format: int64
            critical:
              type: integer
              format: int64
            other:
              type: integer
              format: int64
            devices:
              type: array
              items:
                type: object
                properties:
                  id:
                    type: integer
                    format: int64
                  name:
                    type: string
                  createTime:
                    type: string
                    format: date-time
                  group:
                    type: string
                  connected:
                    type: boolean
                  needsReboot:
                    type: boolean
                  os_family:
                    type: string
                  compliant:
                    type: boolean
                  patches:
                    $ref: '#/components/schemas/Patches'
    NeedsAttention:
      type: object
      properties:
        nonCompliant:
          type: object
          properties:
            total:
              type: integer
              format: int64
            none:
              type: integer
              format: int64
            low:
              type: integer
              format: int64
            medium:
              type: integer
              format: int64
            high:
              type: integer
              format: int64
            critical:
              type: integer
              format: int64
            other:
              type: integer
              format: int64
            devices:
              type: array
              items:
                type: object
                properties:
                  id:
                    type: integer
                    format: int64
                  name:
                    type: string
                  customName:
                    type: string
                  serverCreateTime:
                    type: string
                    format: date-time
                  lastRefreshTime:
                    type: string
                    format: date-time
                  connected:
                    type: boolean
                  needsReboot:
                    type: boolean
                  groupId:
                    type: integer
                    format: int64
                  os_family:
                    type: string
                  policies:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                          format: int64
                        name:
                          type: string
                        type:
                          type: string
                        reasonForFail:
                          type: string
                        policyCreateTime:
                          type: string
                          format: date-time
                        severity:
                          type:
                            - string
                            - 'null'
                          enum:
                            - no_known_cves
                            - none
                            - unknown
                            - low
                            - medium
                            - high
                            - critical
                        packages:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: integer
                                format: int64
                              name:
                                type: string
                              severity:
                                type:
                                  - string
                                  - 'null'
                                enum:
                                  - no_known_cves
                                  - none
                                  - unknown
                                  - low
                                  - medium
                                  - high
                                  - critical
                              packageVersionId:
                                type: integer
                                format: int64
                              createTime:
                                type: string
                                format: date-time
    Approvals:
      type: object
      properties:
        size:
          description: The number of objects returned in results
          type: integer
          format: int64
        results:
          type: array
          items:
            type: object
            properties:
              id:
                description: Approval ID
                type: integer
                format: int64
              manual_approval:
                description: Approval status - True = Approved, False = Rejected
                type:
                  - boolean
                  - 'null'
              manual_approval_time:
                description: The timestamp for when the policy was approved
                type:
                  - string
                  - 'null'
                format: date-time
              status:
                description: Policy execution status
                type: string
              software:
                type: object
                properties:
                  id:
                    description: Software Package ID
                    type: integer
                    format: int64
                  software_version_id:
                    description: Unique identifier for different versions of the same software
                    type: integer
                    format: int64
                  display_name:
                    description: The display name of the software package
                    type: string
                  version:
                    description: Software version
                    type: string
                    format: int64
                  os_family:
                    description: OS Family the software/patch belongs to
                    type: string
                    enum:
                      - Windows
                      - Linux
                      - Mac
                  cves:
                    description: The CVEs covered by the software package/patch
                    type:
                      - array
                      - 'null'
                    items:
                      type: string
              policy:
                type: object
                properties:
                  id:
                    description: Policy ID
                    type: integer
                    format: int64
                  name:
                    description: Policy name
                    type: string
    ApprovePolicy:
      type: object
      properties:
        manual_approval:
          type: boolean
    SoftwareApprovals:
      type: object
      properties:
        id:
          description: Approval ID
          type: integer
          format: int64
        software_version_id:
          description: Unique identifier for different versions of the same software package
          type: integer
          format: int64
        policy_id:
          description: Policy ID
          type: integer
          format: int64
        manual_approval:
          description: Boolean approval status - true = Approved, false = Rejected
          type: boolean
        manual_approval_time:
          description: The date-time when approved
          type: string
          format: date-time
        auto_approval:
          description: Whether the policy is set to automatically approve
          type: boolean
      required:
        - manual_approval
    UserOrgs:
      type: object
      properties:
        id:
          description: Organization ID
          type: integer
          format: int64
        zone_id:
          description: Zone ID
          type: string
          format: uuid
        name:
          description: Zone name
          type: string
        trial_end_time:
          type: string
          format: date-time
        trial_expired:
          type: boolean
        create_time:
          type: string
          format: date-time
        plan:
          description: The billing plan for the organization/zone
          type: string
          enum:
            - basic
            - manage
            - tier3
        saml:
          type: object
          properties:
            enabled:
              type: boolean
            redirect:
              type:
                - string
                - 'null'
        access_key:
          type: string
        metadata:
          type: object
    User:
      type: object
      properties:
        id:
          type: integer
          format: int64
          examples:
            - 123153
        firstname:
          type: string
          examples:
            - John
        lastname:
          type: string
          examples:
            - Doe
        email:
          type: string
          format: email
          examples:
            - john.doe@example.com
            - rsmith@somecompany.com
        features:
          type: object
          properties:
            mo:
              type: boolean
        prefs:
          type: array
          items:
            type: object
            properties:
              user_id:
                type: integer
                format: int64
                examples:
                  - 123153
              pref_name:
                type: string
              value:
                type: string
        orgs:
          description: The organizations/zones that are assigned to the user
          type: array
          items:
            $ref: '#/components/schemas/UserOrgs'
        tags:
          type: array
          items:
            type: string
        saml_enabled:
          type: boolean
        sso_enabled:
          type: boolean
        tfa_type:
          type: string
        rbac_roles:
          description: The RBAC roles assigned to the user
          type: array
          items:
            type: object
            properties:
              id:
                type: integer
                format: int64
                examples:
                  - 1
              name:
                type: string
                examples:
                  - Zone Administrator
              description:
                type: string
                examples:
                  - Provides full administrative rights to a specific zone.
              organization_id:
                type: integer
                format: int64
                examples:
                  - 123153
        intercom_hmac:
          type: string
        server_groups:
          type: array
          items:
            type: integer
            format: int64
            examples:
              - 123153
        account_id:
          type: string
          format: uuid
          examples:
            - 10af9475-fd20-4189-bb9c-e1c707ff2670
        account_name:
          type: string
          examples:
            - My Account
        account_rbac_roles:
          description: The RBAC roles assigned to the account
          type: string
          examples:
            - global-admin
        account_completed_qsg:
          type: boolean
        account_created_at:
          type: string
          format: date-time
          examples:
            - 2021-01-01T00:00:00+0000
    CreateApiKey:
      type: object
      properties:
        name:
          description: A unique name for this key. Users are not allowed to have two keys with the same name under a given organization.
          type: string
          examples:
            - My Test API Key
        expires_at:
          description: 'The time at which (in UTC) the key should automatically expire. Format is ISO8601. Example: 2020-08-05T18:21:47+0000'
          type: string
          format: date-time
          examples:
            - 2021-12-05T18:21:47+0000
      required:
        - name
    UpdateApiKey:
      description: Enable/Disable API key
      type: object
      properties:
        is_enabled:
          type: boolean
      required:
        - is_enabled
    WorkletInputs:
      type: array
      items:
        type: object
        properties:
          key:
            type: string
          type:
            type: string
            enum:
              - parameter
              - payload
          secret:
            type: boolean
          default:
            type:
              - string
              - integer
              - array
              - boolean
          name:
            type: string
          description:
            type: string
        required:
          - key
          - name
          - description
          - type
    WorkletRefs:
      type: array
      items:
        type: object
        properties:
          name:
            type: string
          type:
            type: string
          url:
            type: string
        required:
          - name
          - type
          - url
    Worklet:
      type: object
      properties:
        schema_version:
          type: string
          default: 2.0.0
          pattern: ^\d+\.\d+\.\d+$
        version:
          type: string
          default: 1.0.0
          pattern: ^\d+\.\d+\.\d+$
        name:
          type: string
          maxLength: 100
        creator:
          type: string
        authors:
          type: array
          items:
            type: object
            properties:
              name:
                type: string
              email:
                type: string
                format: email
            additionalProperties: false
            required:
              - name
              - email
        os_family:
          type: string
          enum:
            - Windows
            - Mac
            - Linux
        device_type:
          type: array
          items:
            type: string
            enum:
              - WORKSTATION
              - SERVER
          uniqueItems: true
        language:
          type: string
          enum:
            - PowerShell
            - bash
        description:
          type: string
        category:
          type: string
          enum:
            - Security
            - Data Collection & Auditing
            - Maintenance Tasks
            - Personalization
            - Peripherals
            - Software Lifecycle
            - System Preferences
        categories:
          type: array
          items:
            type: string
            enum:
              - Security
              - Data Collection & Auditing
              - Maintenance Tasks
              - Personalization
              - Peripherals
              - Software Lifecycle
              - System Preferences
          maxItems: 3
          minItems: 1
          uniqueItems: true
        keywords:
          type: array
          items:
            type: string
          uniqueItems: true
        verified:
          type: boolean
        user_interaction_required:
          type: boolean
        inputs:
          $ref: '#/components/schemas/WorkletInputs'
        bundles:
          type: array
          items:
            type: string
          uniqueItems: true
        status:
          type: string
          enum:
            - ACTIVE
            - INACTIVE
            - DEPRECATED
        license_required:
          type: boolean
        minimum_agent_required:
          type: string
          pattern: \d+\.\d+\.\d+
        feature_compatibility:
          type: array
          items:
            type: string
            enum:
              - RunNow
              - AVR
          uniqueItems: true
        refs:
          $ref: '#/components/schemas/WorkletRefs'
        uuid:
          type: string
          format: uuid
        legacy_id:
          type: integer
          format: int64
        create_time:
          type: string
          format: date-time
        update_time:
          type: string
          format: date-time
      additionalProperties: false
      examples:
        - uuid: ab6a9bdc-95b8-5e82-a248-dafe2e40d5a7
          name: Add Network Printer
          description: This worklet will allow an Admin to add a network shared printer that installs at user logon.
          category: System Preferences
          keywords:
            - task
            - logon
            - scheduled
            - printer
            - share
            - network
          inputs: []
          language: PowerShell
          status: ACTIVE
          creator: Basil Fawlty
          verified: true
          version: 1.0.0
          authors:
            - name: Basil Fawlty
              email: example@automox.com
          categories:
            - System Preferences
          bundles: []
          refs: []
          legacy_id: 4
          user_interaction_required: false
          os_family: Windows
          feature_compatibility: []
          schema_version: 2.0.0
          device_type:
            - SERVER
            - WORKSTATION
          license_required: false
          minimum_agent_required: 1.42.0
          create_time: '2021-03-29T20:12:24Z'
          update_time: '2023-08-17T18:12:06Z'
      required:
        - schema_version
        - version
        - name
        - creator
        - authors
        - os_family
        - device_type
        - language
        - description
        - category
        - categories
        - keywords
        - verified
        - status
        - license_required
    WorkletDetails:
      type: object
      properties:
        schema_version:
          type: string
          default: 2.0.0
          pattern: ^\d+\.\d+\.\d+$
        version:
          type: string
          default: 1.0.0
          pattern: ^\d+\.\d+\.\d+$
        name:
          type: string
          maxLength: 100
        creator:
          type: string
        authors:
          type: array
          items:
            type: object
            properties:
              name:
                type: string
              email:
                type: string
                format: email
            additionalProperties: false
            required:
              - name
              - email
        os_family:
          type: string
          enum:
            - Windows
            - Mac
            - Linux
        device_type:
          type: array
          items:
            type: string
            enum:
              - WORKSTATION
              - SERVER
          uniqueItems: true
        language:
          type: string
          enum:
            - PowerShell
            - bash
        description:
          type: string
        category:
          type: string
          enum:
            - Security
            - Data Collection & Auditing
            - Maintenance Tasks
            - Personalization
            - Peripherals
            - Software Lifecycle
            - System Preferences
        categories:
          type: array
          items:
            type: string
            enum:
              - Security
              - Data Collection & Auditing
              - Maintenance Tasks
              - Personalization
              - Peripherals
              - Software Lifecycle
              - System Preferences
          maxItems: 3
          minItems: 1
          uniqueItems: true
        keywords:
          type: array
          items:
            type: string
          uniqueItems: true
        verified:
          type: boolean
        user_interaction_required:
          type: boolean
        inputs:
          $ref: '#/components/schemas/WorkletInputs'
        bundles:
          type: array
          items:
            type: string
          uniqueItems: true
        status:
          type: string
          enum:
            - ACTIVE
            - INACTIVE
            - DEPRECATED
        license_required:
          type: boolean
        minimum_agent_required:
          type: string
          pattern: \d+\.\d+\.\d+
        feature_compatibility:
          type: array
          items:
            type: string
            enum:
              - RunNow
              - AVR
          uniqueItems: true
        refs:
          $ref: '#/components/schemas/WorkletRefs'
        evaluation_code:
          type: string
        remediation_code:
          type: string
        uuid:
          type: string
          format: uuid
        legacy_id:
          type: integer
          format: int64
        create_time:
          type: string
          format: date-time
        update_time:
          type: string
          format: date-time
      additionalProperties: false
      examples:
        - uuid: ab6a9bdc-95b8-5e82-a248-dafe2e40d5a7
          name: Add Network Printer
          description: This worklet will allow an Admin to add a network shared printer that installs at user logon.
          category: System Preferences
          keywords:
            - task
            - logon
            - scheduled
            - printer
            - share
            - network
          inputs: []
          language: PowerShell
          status: ACTIVE
          creator: Basil Fawlty
          verified: true
          version: 1.0.0
          authors:
            - name: Basil Fawlty
              email: example@automox.com
          categories:
            - System Preferences
          bundles: []
          refs: []
          legacy_id: 4
          user_interaction_required: false
          os_family: Windows
          feature_compatibility: []
          schema_version: 2.0.0
          device_type:
            - SERVER
            - WORKSTATION
          license_required: false
          minimum_agent_required: 1.42.0
          evaluation_code: Exit 1
          remediation_code: Hello World
          create_time: '2021-03-29T20:12:24Z'
          update_time: '2023-08-17T18:12:06Z'
      required:
        - schema_version
        - version
        - name
        - creator
        - authors
        - os_family
        - device_type
        - language
        - description
        - category
        - categories
        - keywords
        - verified
        - status
        - license_required
    DataExtract:
      description: A DataExtract job
      type: object
      properties:
        id:
          type: integer
        organization_id:
          type: integer
        user_id:
          type: integer
        status:
          type: string
          enum:
            - queued
            - running
            - complete
            - failed
            - canceled
            - expired
          minLength: 1
        is_completed:
          type: boolean
        created_at:
          type: string
          format: date-time
          minLength: 1
        download_expires_at:
          type:
            - string
            - 'null'
          format: date-time
        download_url:
          type:
            - string
            - 'null'
        parameters:
          required:
            - start_time
            - end_time
          properties:
            start_time:
              type: string
              format: date-time
            end_time:
              type: string
              format: date-time
          type: object
      examples:
        - id: 75
          organization_id: 1
          user_id: 1
          status: queued
          is_completed: false
          created_at: 2021-03-30T16:03:04.608690+0000
          download_expires_at: null
          download_url: null
          parameters:
            start_time: 2021-02-03T00:00:00+0000
            end_time: 2021-03-18T16:19:00+0000
      required:
        - id
        - organization_id
        - user_id
        - status
        - is_completed
        - created_at
        - download_expires_at
        - download_url
        - parameters
    CreateDataExtract:
      description: Create Data Extract
      type: object
      properties:
        type:
          description: The type of Data Extract that should be created.
          type: string
          default: patch-history
          enum:
            - patch-history
            - api-activity
          minLength: 1
          x-enumDescriptions:
            patch-history: Patch History data extract
            api-activity: API Activity data extract
        parameters:
          required:
            - start_time
            - end_time
          properties:
            start_time:
              description: 'The start date and time for the report. Validation: Previous 90 days, starting yesterday.'
              type: string
              format: date-time
              minLength: 1
            end_time:
              description: 'The end date and time for the report. Validation: Previous 90 days, starting yesterday and must be after start_time.'
              type: string
              format: date-time
              minLength: 1
          type: object
      examples:
        - type: patch-history
          parameters:
            start_time: '2021-05-28T13:31:57.510Z'
            end_time: '2021-05-30T06:42:12.117Z'
      required:
        - type
        - parameters
    metadataObject:
      type: object
      properties:
        total_pages:
          type: integer
          format: int64
          examples:
            - 10
        current_page:
          type: integer
          format: int64
          examples:
            - 0
        limit:
          type: integer
          format: int64
          examples:
            - 500
        total_count:
          type: integer
          format: int64
          examples:
            - 500
        links:
          type: array
          items:
            type: string
            format: uri
      title: Metadata Object
    rbacRole:
      type: object
      properties:
        slug:
          description: A short slug that uniquely identifies the rbac role. The slug is what is used when assigning rbac roles for a user.
          type: string
          examples:
            - read-only
        name:
          type: string
          examples:
            - Read Only
        description:
          type: string
          examples:
            - Provides full read rights to a specific zone
        type:
          type: string
          enum:
            - zone
            - account
          examples:
            - zone
      title: rbac-role
    account:
      type: object
      properties:
        id:
          description: The UUID for the Automox account
          type: string
          format: uuid
          examples:
            - e56c63f2-60a1-4f38-ac42-f0eaa311862b
        name:
          description: The name of the Automox account.
          type: string
          examples:
            - My Automox Account
        type:
          description: The type of account.
          type: string
          enum:
            - msp
            - normal
        created_at:
          description: The date and time that the account was created.
          type: string
          format: date-time
          examples:
            - 2021-10-20T16:03:25+0000
        updated_at:
          description: The date and time that the account was updated.
          type: string
          format: date-time
          examples:
            - 2021-10-20T16:03:25+0000
    accountRbacRole:
      description: RBAC role assigned to the account for a user.
      type: string
      enum:
        - global-admin
        - no-global-access
      examples:
        - global-admin
      title: account-rbac-role
    AccountUser:
      type: object
      properties:
        id:
          description: The UUID of the user.
          type: string
          format: uuid
          examples:
            - 03703083-591e-43cb-b02f-716520a8705e
        user_id:
          description: The user id of the user.
          type: integer
          format: int64
          examples:
            - 2506247
        email:
          description: Email of the user.
          type: string
          format: email
          examples:
            - somebody@example.com
        first_name:
          description: The user's first name.
          type: string
          examples:
            - John
        last_name:
          description: The user's last name.
          type: string
          examples:
            - Doe
        status:
          description: The status of the user's account.
          type: string
          enum:
            - pending-invite
            - active
            - disabled
          examples:
            - pending-invite
        account_rbac_role:
          $ref: '#/components/schemas/accountRbacRole'
        is_verified:
          description: True if the user account is verified, false if not.
          type: boolean
        two_factor_authentication:
          description: Type of TFA selected for the user account, or null if disabled.
          type:
            - string
            - 'null'
          enum:
            - email
            - google
          examples:
            - email
        created_at:
          description: The date and time the user account was created.
          type: string
          format: date-time
          examples:
            - 2021-10-20T16:03:25+0000
    zoneRbacRole:
      description: RBAC role assigned to a zone for a user.
      type: string
      enum:
        - zone-admin
        - billing-admin
        - read-only
        - zone-operator
        - patch-operator
        - helpdesk-operator
      examples:
        - zone-admin
      title: zone-rbac-role
    zone:
      type: object
      properties:
        id:
          description: The UUID of the zone (zone ID)
          type: string
          format: uuid
          examples:
            - 2e9a5cab-31af-402e-87b7-a691371d42d0
        organization_id:
          description: The organization ID associated with the zone. Use with legacy API.
          type: integer
          format: int64
          examples:
            - 845230
        account_id:
          description: The UUID for the Automox account
          type: string
          format: uuid
          examples:
            - c8e7dd4e-569d-4280-90f8-706fc944baf8
        parent_id:
          type: string
          format: uuid
        name:
          description: The name of the Automox zone.
          type: string
          examples:
            - My New Zone
        created_by:
          $ref: '#/components/schemas/AccountUser'
        access_key:
          type: string
          format: uuid
          examples:
            - e763151d-9cdb-410b-99ff-d812b8f4723c
        created_at:
          description: The date and time the zone was created.
          type: string
          format: date-time
          examples:
            - 2021-10-20T16:03:25+0000
        updated_at:
          description: The date and time the zone was updated.
          type: string
          format: date-time
          examples:
            - 2021-10-20T16:03:25+0000
    inviter:
      type: object
      properties:
        id:
          description: The inviter's user ID.
          type: integer
          format: int64
          examples:
            - 6501249
        uuid:
          description: The UUID of the inviter.
          type: string
          format: uuid
          examples:
            - 6fb1ee5b-1b10-4ab5-a3f6-3b595c17ad9e
        email:
          description: The email of the inviter.
          type: string
          format: email
          examples:
            - john.doe@example.com
        first_name:
          description: Inviter's first name
          type: string
          examples:
            - John
        last_name:
          description: Inviter's last name
          type: string
          examples:
            - Doe
        status:
          description: The status of the inviter's user account.
          type: string
          enum:
            - pending-invite
            - active
            - disabled
        account_rbac_role:
          $ref: '#/components/schemas/accountRbacRole'
        is_verified:
          description: True if the user account is verified, false if not.
          type: boolean
        two_factor_authentication:
          description: Type of TFA selected for the inviter's user account, or null if disabled.
          type:
            - string
            - 'null'
          enum:
            - email
            - google
          examples:
            - email
        created_at:
          description: The date and time the inviter's user account was created.
          type: string
          format: date-time
          examples:
            - 2021-10-20T16:03:25+0000
    invitation:
      type: object
      properties:
        id:
          description: Invitation ID
          type: string
          format: uuid
          examples:
            - 098d6f56-53a0-4803-9271-f608d4faeb36
        account_id:
          description: ID of the account the user is being invited to.
          type: string
          format: uuid
        account_rbac_role:
          $ref: '#/components/schemas/accountRbacRole'
        inviter:
          $ref: '#/components/schemas/inviter'
        email:
          description: Email address if the user does not exist yet.
          type: string
          format: email
          examples:
            - jane.doe@example.com
        zones:
          type: array
          items:
            type: object
            properties:
              id:
                type: string
                format: uuid
              rbac_role:
                $ref: '#/components/schemas/zoneRbacRole'
        created_at:
          description: The date and time the invitation was created.
          type: string
          format: date-time
          examples:
            - 2021-10-20T16:03:25+0000
        updated_at:
          description: The date and time the invitation was updated.
          type: string
          format: date-time
          examples:
            - 2021-10-20T16:03:25+0000
    zoneUser:
      type: object
      properties:
        id:
          description: The zone user's ID.
          type: integer
          format: int64
          examples:
            - 547250
        uuid:
          description: The zone user's UUID.
          type: string
          format: uuid
          examples:
            - fa65592a-4e95-4bc0-a01b-1f027f5127b6
        email:
          description: The zone user's email address.
          type: string
          format: email
          examples:
            - jane.doe@example.com
        first_name:
          description: The zone user's first name.
          type: string
          examples:
            - Jane
        last_name:
          description: The zone user's last name
          type: string
          examples:
            - Doe
        status:
          description: The status of the zone user's account.
          type: string
          enum:
            - pending-invite
            - active
            - disabled
          examples:
            - active
        is_verified:
          description: True if the user account is verified, false if not.
          type: boolean
          examples:
            - true
        two_factor_authentication:
          description: Type of TFA selected for the user account, or `null` if disabled.
          type:
            - string
            - 'null'
          enum:
            - email
            - google
          examples:
            - email
        created_at:
          description: The date and time the user account was created.
          type: string
          format: date-time
          examples:
            - 2021-10-20T16:03:25+0000
        account_rbac_role:
          $ref: '#/components/schemas/accountRbacRole'
        zone_rbac_role:
          $ref: '#/components/schemas/zoneRbacRole'
    clonePolicy:
      description: Clone Policy Response Object
      type: object
      properties:
        policy_name:
          description: The name of the new cloned policy
          type: string
          examples:
            - Clone of Patch All Policy
        policy_type_name:
          description: Type of policy
          type: string
          examples:
            - patch
        data:
          type: array
          items:
            type: object
            properties:
              policy_id:
                type: integer
                format: int64
                examples:
                  - 38421
              zone_id:
                type: string
                format: uuid
                examples:
                  - 59f574fe-04ec-4a38-ad96-1854fc95db20
              org_id:
                type: integer
                format: int64
                examples:
                  - 100343
    HeaderObject:
      type: object
      properties:
        header:
          type: string
        required:
          type: boolean
        example:
          type: string
    FormatsObject:
      type: object
      properties:
        name:
          type: string
        format:
          type: string
          default: csv
        headers:
          type: array
          items:
            $ref: '#/components/schemas/HeaderObject'
    UserObject:
      type: object
      properties:
        id:
          type: integer
        firstname:
          type: string
        lastname:
          type: string
        email:
          type: string
          format: email
    ActionSet:
      type: object
      properties:
        id:
          type: integer
        statistics:
          type: object
          properties:
            issues:
              type: object
              properties:
                unknown-host:
                  type: object
                  properties:
                    count:
                      type: integer
            solutions:
              type: object
              properties:
                patch-now:
                  type: object
                  properties:
                    count:
                      type: integer
                    device_count:
                      type: integer
                    vulnerability_count:
                      type: integer
                patch-with-worklet:
                  type: object
                  properties:
                    count:
                      type: integer
                    device_count:
                      type: integer
                    vulnerability_count:
                      type: integer
        configuration_id:
          type: string
          format: uuid
        organization_id:
          type: integer
        status:
          type: string
        source:
          type: object
          properties:
            name:
              type: string
            type:
              type: string
        created_by_user:
          $ref: '#/components/schemas/UserObject'
        updated_by_user:
          $ref: '#/components/schemas/UserObject'
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
    AutomoxPatch:
      type: object
      properties:
        id:
          type: integer
          examples:
            - 123456
        solution_type:
          type: string
          enum:
            - automox-patch
            - rapid7-solution
            - unmatched-cve
          examples:
            - automox-patch
        remediation_type:
          type: string
          enum:
            - patch-now
            - patch-with-worklet
          examples:
            - patch-with-worklet
        solution_details:
          type: object
          properties:
            requires_reboot:
              type: boolean
              examples:
                - true
            package_version_id:
              type: integer
              examples:
                - 250624
            display_name:
              type: string
              examples:
                - legacy-error-adaptor 1.10.218
            software_version:
              type: string
              examples:
                - 1.10.218
            software_name:
              type: string
              examples:
                - legacy-error-adaptor
            severity:
              type: string
              examples:
                - low
        devices:
          type: array
          items:
            type: object
            properties:
              id:
                type: integer
                examples:
                  - 123456
              name:
                type: string
                examples:
                  - ThistleNewSavannah
              custom_name:
                type: string
                examples:
                  - Thistle New Savannah
              status:
                type: string
                examples:
                  - pending
              deleted:
                type: boolean
                examples:
                  - false
              ip_addrs_private:
                type: array
                items:
                  type: string
                  examples:
                    - 192.168.0.43
        vulnerabilities:
          type: array
          items:
            type: object
            properties:
              id:
                type: string
                examples:
                  - CVE-2020-24549
              title:
                type: string
                examples:
                  - ''
              summary:
                type: string
                examples:
                  - openMAINT before 1.1-2.4.2 allows remote authenticated users to run arbitrary JSP code on the underlying web server.
              severity:
                type: string
                examples:
                  - medium
    Rapid7:
      type: object
      properties:
        id:
          type: integer
          examples:
            - 123456
        solution_type:
          type: string
          enum:
            - automox-patch
            - rapid7-solution
            - unmatched-cve
          examples:
            - rapid7-solution
        remediation_type:
          type: string
          enum:
            - patch-now
            - patch-with-worklet
          examples:
            - patch-with-worklet
        solution_details:
          type: object
          properties:
            solution_fix:
              type: string
              examples:
                - <p>The fix details go here</p>
            solution_id:
              type: string
              examples:
                - cifs-generic-0005
            solution_summary:
              type: string
              examples:
                - Upgrade the CIFS authentication method
            solution_type:
              type: string
              examples:
                - workaround
        status:
          type: string
          examples:
            - pending
        devices:
          type: array
          items:
            type: object
            properties:
              id:
                type: integer
                examples:
                  - 123456
              name:
                type: string
                examples:
                  - ThistleNewSavannah
              custom_name:
                type: string
                examples:
                  - Thistle New Savannah
              status:
                type: string
                examples:
                  - pending
              deleted:
                type: boolean
                examples:
                  - false
              ip_addrs_private:
                type: array
                items:
                  type: string
                  examples:
                    - 192.168.0.43
        vulnerabilities:
          type: array
          items:
            type: object
            properties:
              id:
                type: string
                examples:
                  - CVE-2020-24549
              title:
                type: string
                examples:
                  - ''
              summary:
                type: string
                examples:
                  - openMAINT before 1.1-2.4.2 allows remote authenticated users to run arbitrary JSP code on the underlying web server.
              severity:
                type: string
                examples:
                  - medium
    UnmatchedCVE:
      type: object
      properties:
        id:
          type: integer
          examples:
            - 123456
        solution_type:
          type: string
          enum:
            - automox-patch
            - rapid7-solution
            - unmatched-cve
          examples:
            - unmatched-cve
        remediation_type:
          type: string
          enum:
            - patch-now
            - patch-with-worklet
          examples:
            - patch-with-worklet
        solution_details:
          type: object
          properties: {}
        status:
          type: string
          examples:
            - pending
        devices:
          type: array
          items:
            type: object
            properties:
              id:
                type: integer
                examples:
                  - 123456
              name:
                type: string
                examples:
                  - ThistleNewSavannah
              custom_name:
                type: string
                examples:
                  - Thistle New Savannah
              status:
                type: string
                examples:
                  - pending
              deleted:
                type: boolean
                examples:
                  - false
              ip_addrs_private:
                type: array
                items:
                  type: string
                  examples:
                    - 192.168.0.43
        vulnerabilities:
          type: array
          items:
            type: object
            properties:
              id:
                type: string
                examples:
                  - CVE-2020-24549
              title:
                type: string
                examples:
                  - ''
              summary:
                type: string
                examples:
                  - openMAINT before 1.1-2.4.2 allows remote authenticated users to run arbitrary JSP code on the underlying web server.
              severity:
                type: string
                examples:
                  - medium
    SolutionObject:
      type: object
      properties:
        metadata:
          $ref: '#/components/schemas/metadataObject'
        data:
          anyOf:
            - $ref: '#/components/schemas/AutomoxPatch'
            - $ref: '#/components/schemas/Rapid7'
            - $ref: '#/components/schemas/UnmatchedCVE'
          discriminator:
            propertyName: solution_type
            mapping:
              automox-patch: '#/components/schemas/AutomoxPatch'
              rapid7-solution: '#/components/schemas/Rapid7'
              unmatched: '#/components/schemas/UnmatchedCVE'
    IssueData:
      type: array
      items:
        type: object
        properties:
          id:
            type: integer
            format: int64
            examples:
              - 123456
              - 5243690
          issue_type:
            type: string
            enum:
              - unknown-host
            examples:
              - unknown-host
          issue_details:
            type: object
            properties:
              hostname:
                type: string
                examples:
                  - Rsmith-PC
    IssueObject:
      type: object
      properties:
        metadata:
          $ref: '#/components/schemas/metadataObject'
        data:
          $ref: '#/components/schemas/IssueData'
    ActionSetObject:
      type: object
      properties:
        metadata:
          $ref: '#/components/schemas/metadataObject'
        data:
          type: array
          items:
            $ref: '#/components/schemas/ActionSet'
  requestBodies:
    accountInvite:
      content:
        application/json:
          schema:
            type: object
            properties:
              email:
                type: string
              account_rbac_role:
                type: string
                enum:
                  - global-admin
                  - non-global-admin
              zone_assignments:
                type: array
                items:
                  type: object
                  properties:
                    zone_id:
                      description: The ID of the zone to grant access to.
                      type: string
                      format: uuid
                    rbac_role:
                      $ref: '#/components/schemas/zoneRbacRole'
                  required:
                    - zone_id
                    - rbac_role
            examples:
              - email: john.doe@example.com
                account_rbac_role: global-admin
                zone_assignments:
                  - zone_id: 3a55518d-2488-6f4e-55fb-a40fc120cd12
                    rbac_role: zone-admin
                  - zone_id: 470b44ab-f667-b9bb-fcab-d8faf8696b24
                    rbac_role: zone-admin
            required:
              - email
              - account_rbac_role
    createZone:
      content:
        application/json:
          schema:
            type: object
            properties:
              name:
                type: string
                maxLength: 45
                minLength: 0
            required:
              - name
    clonePolicy:
      content:
        application/json:
          schema:
            type: object
            properties:
              target_zone_ids:
                description: The zone IDs of the target zones
                type: array
                items:
                  type: string
                  format: uuid
                maxItems: 500
                minItems: 1
            examples:
              - target_zone_ids:
                  - 66d5a6fe-449e-4122-b4a6-a14fceaf1a62
                  - 880cdda6-90fd-4161-8e4d-28fe7d3c520b
            required:
              - target_zone_ids
x-tagGroups:
  - name: Device Management
    description: Actions for Automox Devices
    tags:
      - Commands
      - Devices
      - Packages
      - Worklets
  - name: Group Management
    description: Actions for Automox Groups
    tags:
      - Groups
  - name: Organization Management
    description: Actions for Automox Organizations
    tags:
      - Approvals
      - Events
      - Extracts
      - Organizations
  - name: Policy Management
    description: Actions for Automox Policies
    tags:
      - Policies
  - name: User Management
    description: Actions for Automox Users
    tags:
      - API Keys
      - Users
  - name: Account Management
    tags:
      - Account Management
      - Account Users
  - name: Zone Management
    tags:
      - Zone Management
      - Zone Users
      - Policy Management
  - name: Remediations
    tags:
      - Vulnerability Sync CSV Actions
      - Vulnerability Sync Action Sets
  - name: Reports
    tags:
      - Reports
